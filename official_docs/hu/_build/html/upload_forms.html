
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Adatfeltöltő űrlapok kezelése &#8212; openbiomaps 4.0 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='http://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='http://openbiomaps.org' target='_blank'>Kezdőlap</a> | 
            <a href='http://openbiomaps.org/community/' target='_blank'>Közösség</a> | 
            <a href='faq.html'>GYIK</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Ügyek</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Dokumentáció szerkesztése</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="http://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="http://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="adatfeltolto-urlapok-kezelese">
<span id="manage-upload-forms"></span><h1>Adatfeltöltő űrlapok kezelése<a class="headerlink" href="#adatfeltolto-urlapok-kezelese" title="Permalink to this headline">¶</a></h1>
<div class="section" id="urlapok-listaja">
<h2>Űrlapok listája<a class="headerlink" href="#urlapok-listaja" title="Permalink to this headline">¶</a></h2>
<p>Űrlapokat lehet kiválasztani szerkesztésre, törölésre vagy a használatból való letiltásra.</p>
</div>
<div class="section" id="urlap-fejlec-beallitasok">
<h2>Űrlap fejléc beállítások<a class="headerlink" href="#urlap-fejlec-beallitasok" title="Permalink to this headline">¶</a></h2>
<div class="section" id="urlap-tabla-kivalasztasa">
<span id="destination-table"></span><h3>Űrlap tábla kiválasztása<a class="headerlink" href="#urlap-tabla-kivalasztasa" title="Permalink to this headline">¶</a></h3>
<p>melyik projekt táblára vonatkozik a feltöltő űrlap.</p>
</div>
<div class="section" id="urlap-neve">
<span id="name-of-the-form"></span><h3>Űrlap neve<a class="headerlink" href="#urlap-neve" title="Permalink to this headline">¶</a></h3>
<p>Az űrlap nevét lehet megadni, amelynek egyedinek kell lennie egy projektben.</p>
<p>Egy űrlapról másolat készíthető annak átnevezésével.</p>
<p>Az űrlap neve többnyevű is lehet, ha _str előtaggal van megadva és a projekt nyelvi beállításokban meg van adva az adott nyelvi definíció minden egyes nyelvre.</p>
</div>
<div class="section" id="urlap-hozzaferes">
<span id="form-access"></span><h3>Űrlap hozzáférés<a class="headerlink" href="#urlap-hozzaferes" title="Permalink to this headline">¶</a></h3>
<p>Azoknak a meghatározása akik láthatják/használhatják az űrlapot: bárki, bejelentkezett felhasználóknak, meghatározott csoport.</p>
</div>
<div class="section" id="csoport-hozzaferes">
<span id="group-access"></span><h3>Csoport hozzáférés<a class="headerlink" href="#csoport-hozzaferes" title="Permalink to this headline">¶</a></h3>
<p>Amennyiben “csoport hozzáférés” van megadva az űrlap hozzáférésre, akkor itt lehet megadni a csoportokat</p>
</div>
<div class="section" id="adat-hozzarendeles">
<span id="data-access"></span><h3>Adat hozzárendelés<a class="headerlink" href="#adat-hozzarendeles" title="Permalink to this headline">¶</a></h3>
<p>A feltölött adatoknak az itt megadott csoportoknak lesz hozzáférése. Alapesetben a feltöltőnek van írási és olvasási hozzáférése az adatokhoz és a projekt globális beállításai érvényesülnek.</p>
</div>
<div class="section" id="urlap-tipusa">
<span id="form-type"></span><h3>Űrlap típusa<a class="headerlink" href="#urlap-tipusa" title="Permalink to this headline">¶</a></h3>
<p>webes felület, fájl feltöltés, API (pl. mobil alkalmazás)</p>
</div>
<div class="section" id="urlap-leiras">
<span id="form-description"></span><h3>Űrlap leírás<a class="headerlink" href="#urlap-leiras" title="Permalink to this headline">¶</a></h3>
<p>Tetszőleges leírás az űrlaphoz. Fordítható ez is.</p>
</div>
<div class="section" id="urlap-terbeli-referencia-rendszer">
<span id="form-srid"></span><h3>Űrlap térbeli referencia rendszer<a class="headerlink" href="#urlap-terbeli-referencia-rendszer" title="Permalink to this headline">¶</a></h3>
<p>Bármilyen térbeli referencia rendszer választható amelybeől a feltöltött adatok származnak amely elérhető az  <a class="reference external" href="https://spatialreference.org/">https://spatialreference.org/</a> oldalon. It egy vesszővel elávlasztott felsorolás definiálható az adott űrlap számára eléhető referncia rendszerek megadására a következő módon: srid:címke,srid:címke. Pl.: “4326:wgs84,23700:eov”</p>
</div>
<div class="section" id="csoportositas">
<span id="form-groupping"></span><h3>Csoportosítás<a class="headerlink" href="#csoportositas" title="Permalink to this headline">¶</a></h3>
<p>Az űrlapok csoportokba rendezhetőek a webes űrlap választó felületen való megjelenítéshez (a mobilon még nem elérhető ez az opció)</p>
</div>
<div class="section" id="urlap-publikalas">
<span id="form-publish"></span><h3>Űrlap publikálás<a class="headerlink" href="#urlap-publikalas" title="Permalink to this headline">¶</a></h3>
<p>Az űrlapok lezárhatók publikálással (narancssárga gomb az űrlap fejléc területen). A publikált űrlapok minden további módosítása egy új verzió készítését okozzák. A korábbi verziók elérhetőek maradnak minden API kliens számára, pl. mobil alkalmazás. A publikált űrlapokból teszt verziók készthetőek (teszt verzió készítése gomb a lap alján). A teszt verzók csak annak késztője számára elérhetőek (alapbeállítás szerint). A teszt verziók publikálhatóak a saját publikált águkba.</p>
</div>
</div>
<div class="section" id="urlap-mezo-definiciok">
<h2>Űrlap mező definíciók<a class="headerlink" href="#urlap-mezo-definiciok" title="Permalink to this headline">¶</a></h2>
<div class="section" id="tartalmazza">
<span id="included"></span><h3>Tartalmazza<a class="headerlink" href="#tartalmazza" title="Permalink to this headline">¶</a></h3>
<p>ha be van jelölve, akkor jelenik meg az ürlapon az adott oszlop</p>
</div>
<div class="section" id="oszlop-sorrend">
<span id="column-order"></span><h3>Oszlop sorrend<a class="headerlink" href="#oszlop-sorrend" title="Permalink to this headline">¶</a></h3>
<p>itt állatható egyedileg az űrlapra az oszlopsorrend</p>
</div>
<div class="section" id="oszlop">
<span id="column"></span><h3>Oszlop<a class="headerlink" href="#oszlop" title="Permalink to this headline">¶</a></h3>
<p>Két szó szerepel itt egymás alatt. A megjelenített oszlop név, amely szerkeszthető, amivel egyedivé lehet tenni minden űrlapra.
A másik az oszlop neve az adattáblában.</p>
</div>
<div class="section" id="kotelezo">
<span id="obligatory"></span><h3>Kötelező<a class="headerlink" href="#kotelezo" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>Ha <cite>igen</cite> (háttérszín: bordó), akkor az űrlap nem küldhető el, ha nincs megadva a mezőben érték;</li>
<li>Ha <cite>nem</cite> (háttérszín: szürke), akkor be lehet az adott mező üres;</li>
<li>Ha <cite>puha hiba</cite>, akkor az adatfeltöltő minden egy sorra figyelmeztetést, ha a mező üres, vagy eltérések vannak benne a megkötésektől. Soronként egyesével meg kell erősíteni, hogy megengedi az adott eltéréseket.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="mezo-leiras">
<span id="column-description"></span><h3>Mező leírás<a class="headerlink" href="#mezo-leiras" title="Permalink to this headline">¶</a></h3>
<p>rövid leírás a mezőről. Fordítható.</p>
</div>
<div class="section" id="mezo-tipusa">
<span id="column-type"></span><h3>Mező típusa<a class="headerlink" href="#mezo-tipusa" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul>
<li><p class="first">szöveg: tetszőleges szöveg - habár a minimum és maximum hossz megadható</p>
</li>
<li><p class="first">szám: tetszőleges szám - habár a minimum és maximum hossz megadható</p>
</li>
<li><p class="first">lista: legördülő lista a megadott vesszővel elválasztott értékekből. A legördülő lista kiírt elemei és valós értékei név:érték formátumban megadhatók. A “név” amennyiben “str_” előtaggal kezdődik, akkor automatikusan lefordul a kiválasztott nyelvi változatra, ha az definiálva van. A “true” és “false” szavak str_true és str_false fordítás szerint fordulnak le.</p>
<blockquote>
<div><p>Megadható több címke egy értékhez amikből webes űrlapesetén az első jelenik meg, file feltöltésnél pedig a fájl cella értékéből bármelyik cimke vagy az érték helyes egyezést ad. A cimkéket # karakterekkel tagolva kell megadni. Pl: female#tojó:f,male#hím#him:m,juvenil#fiatal:j,adult#öreg:a</p>
<p>Ez esetben az “f” érték lehetséges cimkéi a “female”, “tojo” és “tojó” szavak</p>
<p>Ha formátuma SELECT:táblanév.oszlopnév, akkor a public.gisdata adatbázis megadott oszlopából készít DISTINCT listát.</p>
</div></blockquote>
</li>
<li><p class="first">igaz-hamis: boolen false/true érték. Az érték sorrendje a lista definíciós mezőben szabályozható. pl: “false,true”</p>
</li>
<li><p class="first">dátum: tetszőleges karakterrel elválasztva év hónap nap sorrendben. Adatbázisban date típusként tárolva.</p>
</li>
<li><p class="first">dátum és idő: üres karektert követően a dátum után óra:perc:másodperc formátumban. Ha hiányzik a másodperc a program automatikusan 00-nak tekinti, de figyelmeztet az elfogadására. Ha hiányzik a perc a program automatikusan 00-nak tekinti, de figyelmeztet az elfogadására. Adatbázisban datetime típusként tárolva.</p>
</li>
<li><p class="first">idő (timetominutes): óra:perc formátum amit a program egész szám értékké számol át. Adatbázisban egész számként tárolva.</p>
</li>
<li><p class="first">idő: óra:perc formátum. Adatbázuisban time típusként tárolva.</p>
</li>
<li><p class="first">idő intervallum: (timeinterval) Pl: 2014-02-25 12:00:00 2014-02-25 13:00:00. Adatbázisban timeinterval típusként tárolva.</p>
</li>
<li><p class="first">autocomplete: a lista_definíció mezőben megadott sql tábla oszlopából autocomplete listát készít. A szintaxis táblanév.oszlop. A táblát a public sémában keresi a program a gisdata adatbázisban.</p>
</li>
<li><p class="first">autocompletelist: hasonló az autocomplet-hez, de egymás után több, vesszővel elválasztott értéket is bevihetünk a mezőbe</p>
</li>
<li><p class="first">photo id: fotó modul bekapcsolása esetén ide írja be a feltöltött fotó azonosítókat a program.</p>
</li>
<li><p class="first">geometria: pont: WKT POINT()</p>
</li>
<li><p class="first">geometria: vonal: WKT LINE()</p>
</li>
<li><p class="first">geometria: polygon: WKT POLYGON()</p>
</li>
<li><p class="first">geometria: bármi: WKT</p>
</li>
<li><p class="first">colour rings: színesgyűrű kombináció megadására ad lehetőséget, ahol piros, rózsaszín, zöld, világos zöld, narancs, sárga, kék, világos kék, fehér, fekete, barna, lila, ibolya és fémgyűrű kombinációkat lehet létrehozni. A szögletes zárójelben levő rész a különböző láb-részeken megadandó maximális gyűrűk számát kódolja, az ezt követő rész a lehetséges színek egyénileg megadott cimkéi. Pl: [XX],Blue:B, red:R, green:G</p>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="bevitel-kontrol">
<span id="input-control"></span><h3>bevitel kontrol<a class="headerlink" href="#bevitel-kontrol" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>a bevitt karakterek számának ellenőrzése</dt>
<dd><ul class="first last simple">
<li>nincs ellenőrzés</li>
<li>min - max</li>
<li>regexp</li>
<li>térbeli</li>
<li>egyéni ellenőrzés</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="lista-definicio">
<span id="list-definition"></span><h3>Lista definíció<a class="headerlink" href="#lista-definicio" title="Permalink to this headline">¶</a></h3>
<p>Többféle lista definíció megadható itt. Egyszeres választós lista, többszörös választós, autó-kiegészítős lista. A listák tartalma megadható itt is az elemek felsorolásával, vagy megadható egy tábla és feltételek ahonnan az alkalmazás lekérdezi a lista elemeket.</p>
<p>Ha az általunk definiált lista kevés választható elemet tartalmaz, akkor ezt listát akár felsorolással is megadhatjuk. Lásd alább - ebben az esetben megadtuk a listánk értékeit, amit egy legördülő menüből tudunk majd kiválasztani a adatfeltöltés folyamán. Ezek az értékek (“nőstény”, “hím”) fognak az adatbázisba is bekerülni.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;nőstény&quot;</span><span class="p">:[],</span>
    <span class="nt">&quot;hím&quot;</span><span class="p">:[]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Abban az esetben, ha egyes változókat más írási móddal, vagy más formában szeretnénk megjeleníteni. Például, ha a változó értéke szám, de a listában szöveges leírást akarunk megjeleníteni, akkor lehetőség van az értéktől éltérő cimkék megadására. A cimke értékek automatikusan fordíthatóak is, ha az <a href="#id1"><span class="problematic" id="id2">str_</span></a> előtagot használjuk és a nyelvi fordítást megadtuk. Így az alábbi példában az adatbázisban “male” és “female” értékek fognak bekerülni, de a legördülő listában “nőstény” és “hím” értékek jelennek meg magyarul és “female”, “male” angolul.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;female&quot;</span><span class="p">:[</span><span class="s2">&quot;str_female&quot;</span><span class="p">],</span>
    <span class="nt">&quot;male&quot;</span><span class="p">:[</span><span class="s2">&quot;str_male&quot;</span><span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Lehetőség van több cimke hozzárendeléséhez is egy értékhez. Ebben az esetben weves űrlapon és mobilon a lista első eleme fog megjelenni, de fájlfeltöltés esetén a a fájlban szerepelhet bármelyik cimke vagy érték, mindegyikből a lista értéket fogja az alkalmazás beszúrni. Ahhoz, hogy ez érvényesüljön jelenleg végig kell lapozni a fájlt.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;nőstény&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;nősteny&quot;</span><span class="p">,</span>
            <span class="s2">&quot;F&quot;</span><span class="p">,</span>
            <span class="s2">&quot;female&quot;</span><span class="p">],</span>
    <span class="nt">&quot;hím&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;hím&quot;</span><span class="p">,</span>
            <span class="s2">&quot;M&quot;</span><span class="p">,</span>
            <span class="s2">&quot;male&quot;</span><span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A lista teljes definíciós leírása az alább látható JSON. Ennek összeállítását segíti a webes felületeten a lista szerkesztő és automatikusan ellenőrzi a szintaxisát az alkalmazás. Hibás szintaxis esetén hibaüzenetet kapunk.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;val1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;label1&quot;</span><span class="p">,</span> <span class="s2">&quot;label2&quot;</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;pictures&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;val1&quot;</span><span class="p">:</span> <span class="s2">&quot;url-string&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;disabled&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;val1&quot;</span><span class="p">],</span>
  <span class="nt">&quot;preFilterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;preFilterValue&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;multiselect&quot;</span><span class="p">:</span><span class="s2">&quot;true or false, default is false&quot;</span><span class="p">,</span>
  <span class="nt">&quot;selected&quot;</span><span class="p">:[</span><span class="s2">&quot;val1&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="kapcsolt-listak-kezelese">
<h3>Kapcsolt listák kezelése:<a class="headerlink" href="#kapcsolt-listak-kezelese" title="Permalink to this headline">¶</a></h3>
<p>Létrehozunk egy listát egy olyan oszlopban (indító oszlop), ami meghatározza a befolyásolt oszlopban létrejövő listát (“lista a listában”). Ehhez először létre kell hozzunk egy olyan háttér táblát (állat_csoportok), ami tartalmazza hogy egy csoporton belül milyen kisebb csoportok helyezkednek el. Például tartalmaznia kell, hogy a nagyobb állatcsoportokon belül milyen kisebb egységek fordulnak elő. Tehát a gerincesek csoporton (állat_szupercsoport) belül találhatóak a kétéltűek, hüllők, madarak, emlősök (állat_csoport_nev) és a gerinctelen csoporton (állat_szupercsoport) belül pedig a csalánozók, ízeltlábúak (állat_csoport_nev) stb.</p>
<p>A kapcsolt listák paramétereit a “lista definíciók” mezőben adjuk meg JSON kód segítségével.</p>
<p>A kód első felét az indító oszlopunkhoz írjuk be, itt határozzuk meg, hogy az indító oszlopunk melyik háttértábla oszlopból vegye ki az értékeket:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span>
 <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="s2">&quot;befolyásolt_lista_neve&quot;</span>
 <span class="p">],</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
 <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span><span class="p">,</span>
 <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoportok&quot;</span><span class="p">,</span>
 <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_szupercsoport&quot;</span><span class="p">,</span>
 <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoport_nev&quot;</span><span class="p">,</span>
 <span class="nt">&quot;labelAsValue&quot;</span><span class="p">:</span> <span class="kc">true</span>
 <span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Kód magyarázat:</dt>
<dd>“Function” - mindig “select_list”
“optionsSchema” - mindig “shared”
“optionsTable” - “háttér_tábla_neve”
“valueColumn” - a háttér táblából kiválasztott oszlop, aminek a változóiból létrejön a legördülő lista, abban az oszlopban ahova a kód kerül (indító oszlop)
“labelColumn” - a befolyásolt oszlopban hoz létre egy olyan listát, ami függ attól hogy melyik opciót választottuk az indító oszlop listájából</dd>
</dl>
<p>A kód második felét a befolyásolt oszlopunkba kell beírni, itt határozzuk meg, hogy a befolyásolt oszlopunk melyik háttértábla oszlopból vegye ki az értékeket:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoportok&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoport_név&quot;</span><span class="p">,</span>
<span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoport_név&quot;</span><span class="p">,</span>
<span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_szupercsoport&quot;</span><span class="p">,</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Kód magyarázat (csak az új változókat határozom itt meg):</dt>
<dd>“filterColumn” - meghatározza, hogy melyik oszlop volt az indító oszlop</dd>
</dl>
<p>A kapcsolt lista opcióval nem csak két oszlop listáit tudjuk összekapcsolni, hanem több oszlopét is. Tehát ha a háttér táblánkban azt is definiáltuk, hogy a kisebb állatcsoportokhoz (állat_csoport_név) mely fajok tartoznak, akár kétszeres de több változó bevonásával akár ötszörös vagy tízszeres kapcsoltsági hálót is létre tudunk hozni. Az indító és a végső oszlop közötti oszlopokhoz a következő kód tartozik:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoportok&quot;</span><span class="p">,</span>
<span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_szupercsoport&quot;</span><span class="p">,</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoport_nev&quot;</span><span class="p">,</span>
<span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;species&quot;</span>
<span class="p">],</span>
<span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;allat_csoport_nev&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A “triggerTargetColumn” mindig a soron következő oszlopra mutasson. A “filterColumn” mindig előző oszlopra mutasson. A “valueColumn” és a “labelColumn” mindig az aktuális oszlopra mutasson.</p>
<p>További példák:
1. Településeken belüli épületek meghatározása. Adatokat gyűjtünk különböző mesterséges odúkban fészkelő fajokról. Az erre létrehozott feltöltő formon belül szeretnénk létrehozni egy autocomplete listát a település oszlopban. Majd az épület (ahova az odút kihelyezték) oszlopban is szeretnénk egy legördülő menüt létrehozni. Rendelkezésünkre áll egy háttértábla, ami tartalmazza, hogy melyik településen milyen épületeken vannak az odúk. A háttértáblánk épület oszlopa viszont rengeteg lehetséges épületet jelöl, de ezek nem mindegyike fordul elő az összes településen. Ennek tükrében szeretnénk összekötni a település és épület oszlopot méghozzá úgy, hogy a kiválasztott település megszűrje az épület oszlopban kialakuló listát.</p>
<p>ELSŐ LÉPÉS: beállítjuk a település oszlop autocomplete listáját, úgy hogy az oszlop típusát autocomplet-re állítjuk, majd megadjuk hogy az itt kialakult lista befolyásolja az épület listánkat:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="s2">&quot;epulet&quot;</span>
<span class="p">],</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;public&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;tytoalba_epuletek&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;telepules&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>MÁSODIK LÉPÉS: az épület oszlop típusát listára állítjuk, majd az alábbi kóddal meghatározzuk a listánk értékeit:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;tytoalba_epuletek&quot;</span><span class="p">,</span>
<span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;telepules&quot;</span><span class="p">,</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;epulet&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="alap-ertekek">
<span id="default-values"></span><h3>Alap értékek<a class="headerlink" href="#alap-ertekek" title="Permalink to this headline">¶</a></h3>
<p>A form minden sora számára egységes érték. Lehet kitölthető, választható és fix értéket definiálni.</p>
<blockquote>
<div>Ha üres input mezőt szeretnénk, akkor _input értéket kell megadni, ha választó listát szeretnénk kapni a _list értéket kell megadni (a lista fefiníció elemeit tölti be), ha geometra választást, akkor _geometry értéket, az _datum pedig a dátum választó mezőt eredményez.</div></blockquote>
</div>
<div class="section" id="mezo-megjelenitesi-opciok">
<span id="field-display-options"></span><h3>Mező megjelenítési opciók<a class="headerlink" href="#mezo-megjelenitesi-opciok" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>sticky (rajzszög)</dt>
<dd>A mobil alkalmazásban van igazi jelentősége. A stickyvel jelölt mezők értéke megmarad mindaddig amíg a felhasználó nem ad meg más értéket.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>hidden (rejetett)</dt>
<dd>A mező nem fog látszani. A webes felületeten és a mobil alkalmazásban is működik.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>read only (csak olvasható)</dt>
<dd>A mező értéke nem módosítható.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>once (egyszer)</dt>
<dd>Ez a mező csak egyszer jelenik meg egy megfigyelési lista típusú adatfelvételnél a lista lezárásakkor.
(Később ez az opció fogja majd a mező kiemeléseket csinálni a webes felületeten)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>list element as buttons (lista elemek gombonként)</dt>
<dd>A lista elemei különálló gombonkként fognak megjelenni az űrlapon. A mobil alkalmazásban és a webes felületen is működik.
A gombok pictogrammok is defiiálhatók. Ezt a lista definícióban lehet megadni. Pl:</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;pictures&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;animals&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
    <span class="nt">&quot;plants&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
    <span class="nt">&quot;mushrooms&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
    <span class="nt">&quot;bats&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span>
    <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="kapcsolat-mas-oszloppal">
<span id="column-relations"></span><h3>Kapcsolat más oszloppal<a class="headerlink" href="#kapcsolat-mas-oszloppal" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Oszlopok tartalmának ellenőrzése más oszlopok tartalmának függvényében</dt>
<dd>Megadható hogy a táblából egy más oszlop értéke esetén az adott oszlopba bevitt értéket hogyan ellenőrízze vagy módosítsa. pl.: weight oszlop esetén ha a sex oszlop tartalma female akkor az értékek min 20 és max 30 numerikus értket vehetnek fel (sex=female) {minmax=20:30}</dd>
</dl>
</div>
<div class="section" id="pszeudo-oszlopok">
<span id="pseudo-column"></span><h3>Pszeudo oszlopok<a class="headerlink" href="#pszeudo-oszlopok" title="Permalink to this headline">¶</a></h3>
<p>Más űralpokból átemelhetőek egyes oszlopok ezzel a funkcióval. form-név:oszlop1,oszlop2,oszlopN. Az itt megadott oszlopok a megadott mező után jelennek meg. Ezzel a funkcióval elérhető, hogy egyszerre két adattáblába lehessen feltölteni adatokat.</p>
</div>
</div>
<div class="section" id="kapcsolat-mas-oszlopkkal-definicio-nyelv">
<h2>Kapcsolat más oszlopkkal definíció nyelv<a class="headerlink" href="#kapcsolat-mas-oszlopkkal-definicio-nyelv" title="Permalink to this headline">¶</a></h2>
<p>( rel_field = rel_statement ) { rel_type = rel_value } , ( rel_field = rel_statement ) { rel_type = rel_value } , …</p>
<p>IF an other cell value (rel_field) match to (rel_statement) THEN  this cell (rel_type) value should be (rel_value)</p>
<p>rel_type is a function related with the field type</p>
<blockquote>
<div><p>datum:          year            extraxt year component from a datum string</p>
<p>text,numeric:   minmax          minmax range check</p>
<p>any type:       obligatory      change obligatory setting</p>
<blockquote>
<div>inequality      check inequality with these symbols: &lt;&gt;= between index and current field. Causing error message.</div></blockquote>
</div></blockquote>
<p>rel_statement can be a regexp based function. In this case statement should be started with !! and followed by a regexp expression e.g.  !!^(d{2})$</p>
<blockquote>
<div><p>If statement is regexp rel_value also can be a function</p>
<p>.       means replace current cell value with matched string from the matched string from the rel_field</p>
<p>.+      means append current cell value to matched string from the rel_field</p>
<p>+.      means append matched string from the rel_field to the current cell value</p>
</div></blockquote>
<dl class="docutils">
<dt>rel_value:</dt>
<dd><p class="first">IF rel_type is inequality according to php comparison operators</p>
<blockquote>
<div><p>+&lt;.</p>
<p>+&lt;=.</p>
<p>+&gt;=.</p>
<p>+=.</p>
<p>+&lt;&gt;.</p>
<p>WHERE + is the matched rel_field value and . is the current cell value</p>
</div></blockquote>
<p class="last">Else can be anything - may be ignored - depending on the used function</p>
</dd>
</dl>
<div class="section" id="peldak">
<h3>Példák<a class="headerlink" href="#peldak" title="Permalink to this headline">¶</a></h3>
<p>A <cite>tarsus_length</cite> oszlopnál</p>
<blockquote>
<div>(clutch_size=!!^([123])$) {obligatory(1)}</div></blockquote>
<p>Ami azt jelenti, hogy kötelező lesz kitölteni a tarsus hosszát, ha a fészekalj mérete 1,2 vagy 3</p>
<p>Az <cite>end_date</cite> oszlopon. Ha a <cite>found_date</cite> nem üres, megnézzük, hogy az <cite>end_date</cite> nagyobb-e mint a <cite>found_date</cite>. Ha igen true-val tér vissza, ha nem, akkor false-al ami feltöltési hibát eredményez.</p>
<blockquote>
<div>(found_date=!!^(.+)$) {inequality(+&gt;=.)}</div></blockquote>
<p>Egy dátum mezőn ami nem tartalmaz évet. Ha az <cite>year</cite> oszlop nem üres, akkor a dátum mező év értékét beállítja ezzel az évvel.</p>
<blockquote>
<div>(year=!!^(d{4})$) {set(.)}</div></blockquote>
<p>A <cite>ring_number</cite> mezőn. Ha a <cite>visszafogas</cite> értéke “1”  akkor a <cite>ring_number</cite> kötelező mező lesz.</p>
<blockquote>
<div>(visszafogas=1) {obligatory(1)}</div></blockquote>
<p>A <cite>magyar</cite> oszlopon. Ha a <cite>faj</cite> üres, akkor a <cite>magyar</cite> kötelező.</p>
<blockquote>
<div>(faj=!!(^$)) {obligatory(1)}</div></blockquote>
<p>A <cite>szamossag</cite> mezőn. Ha az <cite>egyedszam</cite> értéke nagyobb mint 50 akkor a <cite>szamossag</cite> értékét “becsült mennyiség”-re állítjuk, ha kisebb vagy egyenlő mint 50, akkor “pontos  egyedszám”-ra.</p>
<blockquote>
<div>(egyedszam&gt;50) {set(becsült mennyiség)},(egyedszam&lt;=50) {set(pontos egyedszám)}</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Bevezetés</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Oktató anyagok</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">Felhasználói felületek</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Profil lap</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload_data.html">Adatfeltöltés munkafolyamat</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_pages.html">Adminisztratív oldalak</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modulok</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API dokumentáció</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_install.html">Szerver telepítés lépései</a></li>
<li class="toctree-l1"><a class="reference internal" href="privacy.html">Adatkezelési irányelvek</a></li>
<li class="toctree-l1"><a class="reference internal" href="terms.html">Terms and condition</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Gyakran Ismételt Kérdések</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright OpenBioMaps Konzorcium 2015 - 2020.
      Last updated on Jul 21, 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>