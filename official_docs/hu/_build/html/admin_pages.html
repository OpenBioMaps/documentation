

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Projekt adminisztráció &mdash; openbiomaps 4.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modulok" href="modules.html" />
    <link rel="prev" title="API dokumentáció" href="api.html" /> 

</head>

<body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='http://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps_small.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='http://openbiomaps.org' target='_blank'>Kezdőlap</a> | 
            <a href='http://openbiomaps.org/community/' target='_blank'>Közösség</a> | 
            <a href='faq.html'>GYIK</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Ügyek</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Dokumentáció szerkesztése</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="http://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="http://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
      <li>Projekt adminisztráció</li>
    
    
      <li class="breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Bevezetés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#openbiomaps-folyamatok">OpenBioMaps folyamatok</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#openbiomaps-konzorcium">OpenBioMaps Konzorcium</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Oktató anyagok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#felhasznalok-altal-keszitett-szoveges-oktatasi-anyagok">Felhasználók által készített szöveges oktatási anyagok</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#felhasznalok-altal-keszitett-video-oktatasi-anyagok">Felhasználók által készített videó oktatási anyagok</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">Felhasználói felületek</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#bejelentkezes">Bejelentkezés</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#profil-lap">Profil lap</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#meghivasok">Meghívások</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#projekt-adminisztracio">Projekt adminisztráció</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#uzenetek">Üzenetek</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#uj-adatbazis-alapitasa">Új adatbázis alapítása</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#terkepi-lap">Térképi lap</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#adat-feltoltes">Adat feltöltés</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#adatbazis-osszefoglalo-oldal">Adatbázis összefoglaló oldal</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#nyito-oldal">Nyitó oldal</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#hiba-bekuldes">Hiba beküldés</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Profil lap</a><ul>
<li class="toctree-l2"><a class="reference internal" href="profile.html#felhasznaloi-adatok">Felhasználói adatok</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#beallitasok">Beállítások</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#orcid-profil">ORCID profil</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#felhasznaloi-informaciok">Felhasználói információk</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#mas-adatbazisok">Más adatbázisok</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#aktivitas">Aktivitás</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#felfuggesztett-adatfeltoltesek">Felfüggesztett adatfeltöltések</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#eltarolt-lekerdezesek">Eltárolt lekérdezések</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#elmentett-eredmenyek">Elmentett eredmények</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#api-kulcsok">Api kulcsok</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#modulok-egyeni-feluletei">Modulok egyéni felületei</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html#velemenyek">Vélemények</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upload_data.html">Adatfeltöltés munkafolyamat</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upload_data.html#adatfeltoltesi-lehetosegek">Adatfeltöltési lehetőségek</a></li>
<li class="toctree-l2"><a class="reference internal" href="upload_data.html#adat-exportalas-a-feltoltesi-folyamatbol">Adat exportálás a feltöltési folyamatból</a></li>
<li class="toctree-l2"><a class="reference internal" href="upload_data.html#adatfeltoltes-megszakitasa">Adatfeltöltés megszakítása</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_access.html">Adatelérés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="data_access.html#adateleresi-lehetosegek">Adatelérési lehetőségek</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_access.html#adathozzaferes-szabalyozasa">Adathozzáférés szabályozása</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API dokumentáció</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#api-kezelok">API kezelők:</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#oauth">OAUTH</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#pds">PDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#web-api">WEB API</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#form-data-get-form-data-results-explanations">Form Data (get_form_data results) explanations</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#training-explanations-and-examples">Training explanations and examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#peldak">Példák</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#altalanos-api-valaszok">Általános API válaszok</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Projekt adminisztráció</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#adatbazis-tablak-es-oszlopok">Adatbázis táblák és oszlopok</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adat-hozzaferesek">Adat hozzáférések</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adminisztrativ-hozzaferesek">Adminisztratív hozzáférések</a></li>
<li class="toctree-l2"><a class="reference internal" href="#csoportok">Csoportok</a></li>
<li class="toctree-l2"><a class="reference internal" href="#faj-nevek">Faj nevek</a></li>
<li class="toctree-l2"><a class="reference internal" href="#felfuggesztett-adatfeltoltesek">Felfüggesztett adatfeltöltések</a></li>
<li class="toctree-l2"><a class="reference internal" href="#feltolto-urlapok">Feltöltő űrlapok</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fajl-kezelo">Fájl kezelő</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fuggvenyek">Függvények</a></li>
<li class="toctree-l2"><a class="reference internal" href="#terkep-beallitasok">Térkép beállítások</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modulok">Modulok</a></li>
<li class="toctree-l2"><a class="reference internal" href="#nyelvi-definiciok">Nyelvi definíciók</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sql-lekerdezes-beallitasok-szoveges-es-terkepi-lekerdezesekhez">SQL lekérdezés beállítások szöveges és térképi lekérdezésekhez</a></li>
<li class="toctree-l2"><a class="reference internal" href="#szerver-info">Szerver infó</a></li>
<li class="toctree-l2"><a class="reference internal" href="#szerver-logok">Szerver logok</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tagok">Tagok</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hatterfolyamatok-kezelese">Háttérfolyamatok kezelése</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Modulok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="modules.html#modul-adminisztracio">Modul adminisztráció:</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#projekt-szintu-modulok">Projekt szintű modulok</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#tabla-szintu-modulok">Tábla szintű modulok</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server_install.html">Szerver telepítés lépései</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Gyakran Ismételt Kérdések</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#mi-az-openbiomaps">Mi az OpenBioMaps?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#mi-az-openbiomaps-konzorcium">Mi az OpenBioMaps konzorcium?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-lephetek-kapcsolatba-a-konzorciummal">Hogyan léphetek kapcsolatba a konzorciummal?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-sajat-adatbazist-projektet-kesziteni-alapitani">Hogyan tudok saját adatbázist projektet készíteni/alapítani?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-adatot-feltolteni">Hogyan tudok adatot feltölteni?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-ferhetek-hozza-az-adatokhoz">Hogyan férhetek hozzá az adatokhoz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-regisztralni-egy-openbiomaps-adatbazis-proejektbe">Hogyan tudok regisztrálni egy OpenBioMaps adatbázis proejektbe?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#van-programozhato-felulet-fejlesztoknek">Van programozható felület fejlesztőknek?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#milyen-nyelvek-tamogatottak">Milyen nyelvek támogatottak?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-hozzajarulni-az-openbiomaps-hoz">Hogyan tudok hozzájárulni az OpenBioMaps-hoz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#kell-fizetni-valamiert">Kell fizetni valamiért?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hol-es-hogyan-tarolja-az-openbiomaps-az-adatokat">Hol és hogyan tárolja az OpenBioMaps az adatokat?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#van-valamilyen-biztonsagi-mentes-megoldas">Van valamilyen biztonsági mentés megoldás?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#elfelejtettem-a-jelszavamat-most-mi-lesz">Elfelejtettem a jelszavamat, most mi lesz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#rozsaszin-negyzetek-vannak-a-terkep-helyen">Rózsaszín négyzetek vannak a térkép helyén</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#mi-az-a-rum">Mi az a RUM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#lehetseges-doi-t-rendelni-az-adatbazisokhoz">Lehetséges DOI-t rendelni az adatbázisokhoz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hol-talalom-meg-az-openbiomaps-szerverek-listajat">Hol találom meg az OpenBioMaps szerverek listáját?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-mukodik-az-openbiomaps-mobilalkalmazas">Hogyan működik az OpenBioMaps mobilalkalmazás?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hol-talalhato-meg-az-openbiomaps-r-csomag">Hol található meg az OpenBioMaps R csomag?</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="projekt-adminisztracio">
<h1>Projekt adminisztráció<a class="headerlink" href="#projekt-adminisztracio" title="Permalink to this headline">¶</a></h1>
<div class="section" id="adatbazis-tablak-es-oszlopok">
<span id="database-columns"></span><h2>Adatbázis táblák és oszlopok<a class="headerlink" href="#adatbazis-tablak-es-oszlopok" title="Permalink to this headline">¶</a></h2>
<p>[web] -&gt; [profile] -&gt; [Projektadminisztráció] -&gt; [adatbázis tábla kezelés]</p>
<p>Létre tudunk hozni egy SQL táblát, amit az OBM a projektünkhöz regisztrál és az alapértelmezett OBM oszlopokat létrehozza benne. A tábla neve ne tartalmazzon ékezetes karaktereket, szóközt és egyéb speciális karaktereket! Kerüljük a nagybetűk használatát is! A _ karakter megengedett. A táblához tetszőleges hosszúságú leírás megadása nyomatékosan ajánlott.</p>
<p>Az OBM felületen csak az itt regisztrált táblákat tudjuk használni (térképi megjelenítés, űrlap használat, szöveges lekérdezések)!</p>
<p>Itt lehet beállítani, hogy az egyes táblákból melyik oszlopok legyenek elérhetőek az űrlapok készítéséhez és lekérdezéshez a webes felületen.</p>
<p>Szintén itt lehet megadni a különlegesen kezelet oszlopokat. Ez azt jelenti, hogy olyan oszlopok amiket egyes modulok használnak anélkül, hogy tudnák mi az oszlop pontos neve illetve ugyanilyen alapon metakeresésekben is elérhetőek. Ilyen kitüntetett oszlopok a fajnév, dátum, adatgyüjtő, példányszám és hely oszlopok. A hely oszlopnál külön megadható az X,Y koordináta oszlop és a postgres geometria oszlop is. Dátumnál megadható több dátum oszlop is, adatgyűjtőnél szintén több oszlop is megadható. Fajnévél külön megadható a tudományos és nemzeti nevet tartalmazó oszlop ha van ilyen. Minden egyéb oszlop “adat” típusúra kell beállítani.</p>
<blockquote>
<div><ul class="simple">
<li><p>adat: általános célú oszlopokra</p></li>
<li><p>térbeli geometria: ez az oszlop térképek készítéséhez használható.</p></li>
<li><p>tudományos fajnév: ez az oszlop a taxonok kezelésében használható.</p></li>
<li><p>alternatív nevek: ez az oszlop a taxonok kezelésében használható.</p></li>
<li><p>dátum ez az oszlop a dátumszűrőkben használható</p></li>
<li><p>egyedek száma: összefoglaló funkciókban használható</p></li>
<li><p>földrajzi szélesség: a földrajzi hosszúsággal együtt használható a térgeometria létrehozásához</p></li>
<li><p>földrajzi hosszúság: a földrajzi szélességgel együtt használható térbeli geometria létrehozásához</p></li>
<li><p>idézés: összefoglaló funkciókban használható</p></li>
<li><p>melléklet: fájl mellékletek oszlop</p></li>
<li><p>UTM zóna: a térgeometria létrehozásakor használható.</p></li>
</ul>
</div></blockquote>
<p>A “megjegyzés mező” az oszlopok tartalmára vonatkozó leírásokat kell tartalmazzon (meta adatok), továbbá egyes esetekben szabályzó szerepe is lehet. Az obm_geometry oszlop esetén a megjegyzés mezőbe lehet megadni a geometria oszlop srid-ját, amit a feltöltött adatok tárolt srid-ját fogja meghatározni. Beírt értéket <cite>srid:4326</cite> formátumba kell megadni és a biomaps/header_names/f_srid helyen kerül eltárolásra és az alkalmazás az SRID_C globális változóban használja.</p>
<p>Az obm_id oszlopnál megadható, hogy legyen-e a rules tábla használva így: use_rules:1 Ezt csak master hozzáféréssel lehet módosítani.</p>
<p>Mindkét esetben az megjegyzés mezőben automatikusan odakerül a SET előtag, amit ki kell törölni, hogy érvényesítetni lehessen a módosítást. Ez azért van így, hogy ne lehessen véletlenül módosítani ezeket a paramétereket.</p>
<p>A lap tetején elérhető egy SQL konzol, ami csak üzemeltetői státusszal és külön authentikáció után használható.</p>
<p>Szintén elérhető itt egy kinyitható lista az összes olyan tábla felsorolásával, ami a projektünk nevével kezdődik az SQL adatbázisban. Ezek közül ami pirossal van jelölve, amit nem kezel az OBM felület, mert nincs beregisztrálva az OBM számára hozzáférhető táblák közé.</p>
<p>A Nézetek kezelése elsősorban egy speciális funkció kiszolgálására szolgál, mégpedig arra, hogy egy adattáblánkat egy Nézettel helyettesítsük. Ilyen esetben a rendszer létrehoz az alaptábla nevével azonos Schémát a projektünk számára és oda helyezi át az eredeti táblánkat, amelyek kezeléséhez a megfelelő INSERT/UPDATE/DELETE Rule-okat is létrehozza. Ez a funkció akkor lehet hasznos, ha nagy adattáblánk van és vannak olyan folyatok, vagy triggerek, amelyek használata már túl lassú, vagy egyes specifikus felhasználó igények kielégítésére egyedi változatokat akarunk létrehozni az adattáblánkból.</p>
<p>A tábláinkhoz további oszlopokat is tudunk itt hozzáadni. Az oszlopk nevében ne legyenek üres karakterek, nagy betűk és kötőjelek sem!</p>
</div>
<div class="section" id="adat-hozzaferesek">
<span id="data-access"></span><h2>Adat hozzáférések<a class="headerlink" href="#adat-hozzaferesek" title="Permalink to this headline">¶</a></h2>
<p>A beállított hozzáférési szabályok és azok munkaállapotának áttekintése.</p>
<p>[web] -&gt; [profile] -&gt; [Projektadminisztráció] -&gt; [adat hozzáférés]</p>
<p>[system] -&gt; [/web-app-path/] -&gt; [/projects/YOURPROJECT/local_vars.php.inc]</p>
<p>A projekt általános hozzáférési beállításának megtekintése adat táblánként. Itt ez nem konfogurálható!</p>
</div>
<div class="section" id="adminisztrativ-hozzaferesek">
<span id="administrative-access"></span><h2>Adminisztratív hozzáférések<a class="headerlink" href="#adminisztrativ-hozzaferesek" title="Permalink to this headline">¶</a></h2>
<p>Felhasználói csoportok hozzárendelése adminisztratív funkciókhoz. Például űrlap készítési vagy fajnév tábla kezelési jogkör kiadása.</p>
</div>
<div class="section" id="csoportok">
<span id="groups"></span><h2>Csoportok<a class="headerlink" href="#csoportok" title="Permalink to this headline">¶</a></h2>
<p>Felhasználói csoportok létrehozása és felhasználók csoportokhoz hozzáadása itt történik. A felhasználói csoportok űrlapok, modulok és adminisztratív funkciókhoz való hozzáférés beállításban van jelentősége.</p>
</div>
<div class="section" id="faj-nevek">
<span id="species-names"></span><h2>Faj nevek<a class="headerlink" href="#faj-nevek" title="Permalink to this headline">¶</a></h2>
<p>Taxontáblák kezelőfelülete.</p>
<p>A fajnevek hozzárendelése a következő kategóriákhoz: [elfogadott név], [szinonimnév], [köznév], [helytelenül írt név].</p>
<p>A taxontáblában (fajnév-adatbázisban) szereplő fajneveket a “taxonnév-javítás-háttérmunkák” és a keresőfelületek használják.</p>
<p>Ezen az adminisztratív lapon történik a taxon tábla lekérdezése és karbantartása.</p>
</div>
<div class="section" id="felfuggesztett-adatfeltoltesek">
<span id="interrupted-uploads"></span><h2>Felfüggesztett adatfeltöltések<a class="headerlink" href="#felfuggesztett-adatfeltoltesek" title="Permalink to this headline">¶</a></h2>
<p>A felhasználók elmentett és be nem fejezett fájl vagy űrlapos adat feltöltései találhatóak meg itt. A feltöltéseket betöltve azok folytathatóak vagy el is lehe vetni őket. Többnyire kitörlhetőek ezek a megszakított feltöltések!</p>
</div>
<div class="section" id="feltolto-urlapok">
<span id="upload-forms"></span><h2>Feltöltő űrlapok<a class="headerlink" href="#feltolto-urlapok" title="Permalink to this headline">¶</a></h2>
<p>Itt lehet feltöltő űrlapokat létrehozni és módosítani.</p>
<p>Az űrlapok kezelésének részletes leírása itt található:
<a class="reference internal" href="upload_forms.html"><span class="doc">Adatfeltöltő űrlapok kezelése</span></a>.</p>
</div>
<div class="section" id="fajl-kezelo">
<span id="file-manager"></span><h2>Fájl kezelő<a class="headerlink" href="#fajl-kezelo" title="Permalink to this headline">¶</a></h2>
<p>Csatolt fájlként feltöltött képek és egyéb állományok listája és kezelése. Ki lehet exportálni egyben az egy táblához tartozó csatományokat, de ez némi időt vehet igénybe, mivel az exportálás egy háttérfolyamatként zajlik. Amikor készen van az export, akkor egy link jelenik meg az export gomb mellett.</p>
</div>
<div class="section" id="fuggvenyek">
<span id="functions"></span><h2>Függvények<a class="headerlink" href="#fuggvenyek" title="Permalink to this headline">¶</a></h2>
<p>Néhány előre elkészített trigger itt be- és kikapcsolható, és a hozzájuk tartozó funkciók szerkeszthetők.</p>
<p>A kiválasztott táblához kapcsolódó összes trigger és SQL-szabály állapotát is megtekintheti.</p>
<p>Beépített triggerek:</p>
<blockquote>
<div><ul class="simple">
<li><p>A taxonlista automatikus frissítése: A taxonszűrő által használt taxon-táblához hozzáadjuk a “tudományos nevet” és az “alternatív neveket”,</p></li>
<li><p>Taxonnév automatikus frissítése: frissíti az adattáblát a taxontábla frissítésekor,</p></li>
<li><p>Előzmények: előzménysorok létrehozása az “előzménytáblában” a sorok frissítése és törlése után,</p></li>
<li><p>Hozzáférési szabályok: új sor beszúrása után szabálysor létrehozása a “szabályok táblában”. Az alkalmazott szabályok az űrlap beállításaiból származnak.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="terkep-beallitasok">
<span id="map-settings"></span><h2>Térkép beállítások<a class="headerlink" href="#terkep-beallitasok" title="Permalink to this headline">¶</a></h2>
<p>[web] -&gt; [profile] -&gt; [Projektadminisztráció] -&gt; [térkép beállítások]</p>
<p>A térképi megjelenítés beállításának három része van:</p>
<blockquote>
<div><ul class="simple">
<li><p>mapszerver konfiguráció</p></li>
<li><p>sql lekérdezés a mapszerver számára</p></li>
<li><p>openlayers beállítások a mapszerver számára</p></li>
</ul>
</div></blockquote>
<div class="section" id="mapserver">
<h3>Mapserver<a class="headerlink" href="#mapserver" title="Permalink to this headline">¶</a></h3>
<p>Egy új projektnél be kell állítani a térkép kiterjedését. Ezt a legkönnyebb úgy megtenni, ha töltünk fel pár sor teszt adatot a várható kiterjedés sarkairól és a kalkulált kiterjedést beírjuk a private.map fájlba, amit ezen az adminisztratív oldalon tudunk szerkeszteni.</p>
<p>A publikus mapfájl használata további beállításokat igényel, jelenleg nem javasolt a használata.</p>
</div>
<div class="section" id="openlayers">
<h3>OpenLayers<a class="headerlink" href="#openlayers" title="Permalink to this headline">¶</a></h3>
<p>Az OpenLayers definícióknál tudunk összekötni egy SQL lekérdezést egy MapServer réteggel. Erre azért van szükség, mert a mapserverben alap esetben nem statikus lekérdezések vannak, hanem a webes felületen végrehajotott lekérdezéseket kapja meg a MapServer. Válasszuk ki, hogy melyik SQL lekérdezést melyik MapServer réteghez szeretnénk kapcsolni, adjunk egy tetszőleges nevet az OpenLayers rétegnek és többi változót hagyjuk az alapértelmezett értéken.</p>
<p>“OpenLayers réteg definíció” mező kiürítésével és a sor mentésével törölhető egy definíció.</p>
</div>
</div>
<div class="section" id="modulok">
<span id="modules"></span><h2>Modulok<a class="headerlink" href="#modulok" title="Permalink to this headline">¶</a></h2>
<p>A beépülő modulokkal számos extra funkció válik elérhetővé a rendszerünkben, de ezek többnyire további beállításokat igényelnek.
A modulokat lehet saját igények szerint módosítani, habár ezek karbantartásáról ez után nekünk kell gondokodni. A módosított modulokat meg lehet osztani a közösséggel!</p>
<p>Az engedélyezett modulok használatát felhasználókhoz/csoportokhoz lehet rendelni.</p>
<p>A paramétereket JSON objektumként tudjuk megadni a moduloknak.</p>
<p>Az elérhető modulok listája és leírásai itt találhatóak:
<a class="reference internal" href="modules.html"><span class="doc">modulok</span></a></p>
</div>
<div class="section" id="nyelvi-definiciok">
<span id="translations"></span><h2>Nyelvi definíciók<a class="headerlink" href="#nyelvi-definiciok" title="Permalink to this headline">¶</a></h2>
<p>Meg lehet tekinteni itt az egész projektre globálisan definiált fordításokat. Ezek itt szerkeszthetőek: <a class="reference external" href="https://github.com/OpenBioMaps/translations/blob/master/global_project_translations.csv">https://github.com/OpenBioMaps/translations/blob/master/global_project_translations.csv</a></p>
<p>Itt lehet a projektre érvényes fordításokat megadni. A fordítások mindig a projektre beállított nyelvre vontakoznak. Minden fordítható stringet str_somesthing_special_text formában kell megadni ahol az “str_” előtag kötelező elem. Fordítások használhatók űrlap nevekben, oszlop nevekben, listákban, űrlap leírásokban, mező leírásokban.</p>
</div>
<div class="section" id="sql-lekerdezes-beallitasok-szoveges-es-terkepi-lekerdezesekhez">
<span id="sql-query-settings"></span><h2>SQL lekérdezés beállítások szöveges és térképi lekérdezésekhez<a class="headerlink" href="#sql-lekerdezes-beallitasok-szoveges-es-terkepi-lekerdezesekhez" title="Permalink to this headline">¶</a></h2>
<p>Itt konfigurálhatja azokat az SQL-lekérdezéseket, amelyeket a Mapserver a térképadatok megjelenítéséhez, a webalkalmazás pedig a lekérdezések szöveges eredményeinek megjelenítéséhez használ.
Ezek többnyire nem valódi SQL-parancsok, hanem az SQL-lekérdezések összeállítására szolgáló sablonok, közelítő SQL-szintaxissal.</p>
<p>A Mapserver/térkép fájlban a WMS rétegeknek tartalmazniuk kell egy DATA definíciós sort egy %query% helyettesítő karakterlánccal, hogy az itt definiált SQL sablon alapján dinamikusan generált SQL parancsot használhasson.</p>
<p>Minden SQL-lekérdezést egy webtérkép-réteghez kell kapcsolni. Az utolsó oszlopban állíthatja be ezeket a kapcsolatokat. Az SQL-lekérdezésekben két helyettesítő változó van a dinamikus lekérdezések végrehajtásához: %qstr% és %morefilters%.</p>
<p>A lekérdezés tartalmazhat varázsszavakat. Ezek % karakterekkel vannak elválasztva. Ezeket dinamikusan valódi SQL karakterláncokkal helyettesíti az OBM SQL-értelmező.
Egyes modulok is generálhatnak ilyen varázsszavakat!</p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">obm_id</span><span class="p">,</span> <span class="o">%</span><span class="n">grid_geometry</span><span class="o">%</span> <span class="k">AS</span> <span class="n">obm_geometry</span>
    <span class="o">%</span><span class="n">selected</span><span class="o">%</span>
<span class="k">FROM</span> <span class="o">%</span><span class="n">F</span><span class="o">%</span><span class="n">nestbox</span> <span class="k">c</span><span class="o">%</span><span class="n">F</span><span class="o">%</span>
    <span class="o">%</span><span class="n">uploading_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">rules_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">taxon_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">grid_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">search_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">morefilter</span><span class="o">%</span>
<span class="k">WHERE</span> <span class="o">%</span><span class="n">geometry_type</span><span class="o">%</span> <span class="o">%</span><span class="n">envelope</span><span class="o">%</span> <span class="o">%</span><span class="n">qstr</span><span class="o">%</span>
</pre></div>
</div>
<p>A %grid_geometry% AS obm_geometry helyett használd csak az obm_geometry kifejezést, ha nincs beállítva grid modul! Szintén ne tedd be a %grid_join% se a lekérdezésbe, ha nincs beállítva a grid modul. A %search_join% is modul specifikus.</p>
<p>Használd %F% és egy alias nevet is a FROM tábla megadásánál. Ez feltétlenül szükséges a lekérdezés feldolgozásához
Ha egy másik táblát is szeretnél JOIN-olni akkor használd a  %J% határolót a JOIN kifejezés körül. Például:</p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">n</span><span class="p">.</span><span class="n">obm_geometry</span><span class="p">,</span><span class="n">n</span><span class="p">.</span><span class="n">obm_id</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span> <span class="k">AS</span> <span class="n">date_part</span><span class="p">,</span><span class="n">nestbox_type</span><span class="p">,</span><span class="n">project_id</span><span class="p">,</span><span class="n">beinaction</span>
    <span class="o">%</span><span class="n">selected</span><span class="o">%</span>
<span class="k">FROM</span> <span class="o">%</span><span class="n">F</span><span class="o">%</span><span class="n">nestbox</span> <span class="n">n</span><span class="o">%</span><span class="n">F</span><span class="o">%</span>
    <span class="o">%</span><span class="n">J</span><span class="o">%</span><span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">nestbox_observations</span> <span class="n">o</span> <span class="k">ON</span> <span class="n">o</span><span class="p">.</span><span class="n">nestbox_id</span><span class="o">=</span><span class="n">n</span><span class="p">.</span><span class="n">obm_id</span><span class="o">%</span><span class="n">J</span><span class="o">%</span>
    <span class="o">%</span><span class="n">taxon_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">morefilter</span><span class="o">%</span>
<span class="k">WHERE</span> <span class="o">%</span><span class="n">envelope</span><span class="o">%</span> <span class="o">%</span><span class="n">qstr</span><span class="o">%</span>
</pre></div>
</div>
<p>Lehetséges még komplexeb lekérdezés összerekasára is:</p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">WITH</span> <span class="n">aall</span> <span class="k">AS</span> <span class="p">(</span>
    <span class="k">SELECT</span> <span class="n">o</span><span class="p">.</span><span class="n">obm_id</span><span class="p">,</span><span class="n">n</span><span class="p">.</span><span class="n">obm_geometry</span><span class="p">,</span><span class="n">nestbox_type</span><span class="p">,</span><span class="n">project_id</span><span class="p">,</span><span class="n">beinaction</span><span class="p">,</span>
    <span class="n">COALESCE</span><span class="p">(</span><span class="k">extract</span><span class="p">(</span><span class="n">days</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">CURRENT_DATE</span><span class="o">-</span><span class="n">datum</span><span class="p">)::</span><span class="nb">interval</span><span class="p">),</span><span class="s1">&#39;-1&#39;</span><span class="p">)</span> <span class="k">as</span>  <span class="n">date_part</span>
        <span class="o">%</span><span class="n">selected</span><span class="o">%</span>
    <span class="k">FROM</span> <span class="o">%</span><span class="n">F</span><span class="o">%</span><span class="n">nestbox_observations</span> <span class="n">o</span><span class="o">%</span><span class="n">F</span><span class="o">%</span>
    <span class="o">%</span><span class="n">J</span><span class="o">%</span><span class="k">LEFT</span> <span class="k">JOIN</span> <span class="n">nestbox</span> <span class="n">n</span> <span class="k">ON</span> <span class="p">(</span><span class="n">nestbox_id</span><span class="o">=</span><span class="n">n</span><span class="p">.</span><span class="n">obm_id</span><span class="p">)</span> <span class="o">%</span><span class="n">J</span><span class="o">%</span>
    <span class="o">%</span><span class="n">taxon_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">morefilter</span><span class="o">%</span>
    <span class="k">WHERE</span> <span class="mi">1</span><span class="o">=</span><span class="mi">1</span> <span class="o">%</span><span class="n">envelope</span><span class="o">%</span> <span class="o">%</span><span class="n">qstr</span><span class="o">%</span>
<span class="p">)</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">aall</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">date_part</span> <span class="k">DESC</span>
</pre></div>
</div>
</div>
<div class="section" id="szerver-info">
<span id="server-info"></span><h2>Szerver infó<a class="headerlink" href="#szerver-info" title="Permalink to this headline">¶</a></h2>
<p>Számos alap info elérhető a projektről, mint az alkalmazás verzió száma, tárhely használati adatok, rendszer terhelé és memória használat, továbbá a Supervisor projekt adminisztrációs felület linkje.</p>
</div>
<div class="section" id="szerver-logok">
<span id="server-logs"></span><h2>Szerver logok<a class="headerlink" href="#szerver-logok" title="Permalink to this headline">¶</a></h2>
<p>Hibakeresésre szolgál. A projekt szerver belső üzenetei és a mapserver üzenetei tekinthetők meg itt.</p>
</div>
<div class="section" id="tagok">
<span id="members"></span><h2>Tagok<a class="headerlink" href="#tagok" title="Permalink to this headline">¶</a></h2>
<p>A projektbe regisztrált tagok listája. Felhasználói státuszt lehet itt megani. Ezek a következők: Normál, Üzemeltető, Felfüggesztett. A felfüggesztett felhasználók semmihez nem férnek hozzá a projektben, majdnem egyenértékű a profil törlésével.
Az üzemeltetőknak minden funkcióhoz és adathoz van hozzáférésük. Az adatbázis alapítónak nem muszáj üzemeltetőnek lennie ahhoz, hogy mindenhez hozzáférjen. A normál felhasználók alap esetben a projekt jogosultság beállítása szerint férnek hozzá adatfeltöltési és adatlekérdezéi lehetőségekhez. Ez az alapeset módosítható csoportok létrehozásával és különféle jogosítványok csoportokhoz rendelésével. Lásd <a class="reference internal" href="#groups"><span class="std std-ref">Csoportok</span></a> és <span class="xref std std-ref">Adminisztratív hozzáférések</span>.</p>
<p>A tagok csoport hozzárendelései is módosíthatók itt, de erre kényelmesebb felület a Csoportkezelő.</p>
<p>A tagok neve egy hivatkozás ezen a felületen. Ezt a hivatkozást követve a felhasználó profil lapjára léphetünk. Adminisztratív jogkörrel ilyenkor a lap cím sávban - jobboldalt, felül megjelenik egy fa-user-secret ikon (<a class="reference external" href="https://forkaweso.me/Fork-Awesome/icon/user-secret/">https://forkaweso.me/Fork-Awesome/icon/user-secret/</a>). Erre kattitva a saját felhasználói bejelentkezési adatainkkal át tudunk lépni egy másik felhasználó profiljába.</p>
</div>
<div class="section" id="hatterfolyamatok-kezelese">
<span id="background-jobs"></span><h2>Háttérfolyamatok kezelése<a class="headerlink" href="#hatterfolyamatok-kezelese" title="Permalink to this headline">¶</a></h2>
<p>[web] -&gt; [profile] -&gt; [Projektadminisztráció] -&gt; [háttérfolyamatok]</p>
<p>Az OBM képes háttérben feladatokat elvégezni. Háttérfolyamat szkripteket le tudunk tölteni a lapról elérhető git repo-ból és ezeket is módosíthatjuk, vagy a sablon szkript alapján teljesen újat írhatunk. A héttérfolyamatoknak van egy run és egy lib állománya. Az ütemező a run állományunkat hívja meg, ami sztenderd php job esetén a lib állományban lévő feladatokat hajtja végre.</p>
<p>Az ütemezés  cron-szerű, perc - óra - nap mezőket kell kitölteni hozzá, amely miden esetben lehet * is, azaz minden perc, óra, nap értékű. A jobot, ha nem engedélyezzük nem fut le. Engedélyezés nélkül is tudjuk tesztelni [run]. A [results]-al pedig az adott job utolsó eredményeit tudjuk megnézni.</p>
<p>Ahhoz, hogy az ütemező fusson, a gazdagépnek is kell egy ütemező Cron bejegyzés minden projekt job futtató scriptjéhez lennie. Ezt a szerver rendszergazdája tudja beállítani. Pl:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">*/5</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">/usr/local/bin/docker-compose</span> <span class="pre">-f</span> <span class="pre">/srv/docker/openbiomaps/docker-compose.yml</span> <span class="pre">exec</span> <span class="pre">-u</span> <span class="pre">www-data</span> <span class="pre">-T</span> <span class="pre">app</span> <span class="pre">php</span> <span class="pre">/var/www/html/biomaps/root-site/projects/myproject/jobs.php</span>
<span class="pre">`</span></code></p>
</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'4.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright OpenBioMaps Konzorcium 2015 - 2021.
        Last updated on Jul 06, 2023.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0+.
        </div>
    </div>  

</body>
</html>