
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Modulok &#8212; openbiomaps 4.0 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API dokumentáció" href="api.html" />
    <link rel="prev" title="Adminisztratív oldalak" href="admin_pages.html" /> 
  </head><body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='http://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='http://openbiomaps.org' target='_blank'>Kezdőlap</a> | 
            <a href='http://openbiomaps.org/community/' target='_blank'>Közösség</a> | 
            <a href='faq.html'>GYIK</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Ügyek</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Dokumentáció szerkesztése</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="http://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="http://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="modulok">
<h1>Modulok<a class="headerlink" href="#modulok" title="Permalink to this headline">¶</a></h1>
<div class="section" id="altalanos-modul-kezeles">
<h2>Általános modul kezelés:<a class="headerlink" href="#altalanos-modul-kezeles" title="Permalink to this headline">¶</a></h2>
<p>A modul oldalon lehet bekapcsolni azokat a plusz funkciókat, amik nincsenek automatikusan hozzárendelve az OpenBioMaps alap keretrendszeréhez.</p>
<div class="section" id="modul-hozzaadasa-a-sajat-listankhoz">
<h3>Modul hozzáadása a saját listánkhoz<a class="headerlink" href="#modul-hozzaadasa-a-sajat-listankhoz" title="Permalink to this headline">¶</a></h3>
<p>A modul oldal felkínál nekünk előre behozott modulokat ezekről dönthetünk, hogy bekapcsoljuk vagy töröljük őket a saját listánkból, lásd lentebb. Ezenfelül a saját listánkhoz hozzáadhatunk további modulokat is, ehhez a modul lap aljára kell görgetni. A világos kék sáv első cellájában duplán kattintva felugrik egy legördülő lista a jelenleg aktív modulokkal. Rákattintunk a nekünk szükséges modul nevére, majd a <em>“hozzáad”</em> gombra kattintva már hozzá is adtuk a modult a saját listánkhoz.</p>
</div>
<div class="section" id="modul-hozzaferes-beallitasok">
<h3>Modul hozzáférés beállítások<a class="headerlink" href="#modul-hozzaferes-beallitasok" title="Permalink to this headline">¶</a></h3>
<p>Az egyes modulokat akár többször is hozzáadhatjuk a listánkhoz. Ez lehetővé teszi számunkra, hogy az egyes modulokhoz többféle hozzáférést adjunk meg. Ez azoknál a moduloknál lényeges, ahol az egyes felhasználóknak, vagy csoportoknak különböző hozzáférést szeretnénk adni, például: allowed_columns modul. Egy másik példa, hogy ha több adattáblánk van, akkor minden táblára külön megadhatjuk, hogy a lekérdezésnél melyik oszlopok értékei alapján tudjunk szűrni, például: text_filter modul.<span class="raw-html-m2r"><br></span>
A <strong>Hozzáférés</strong> oszlopban kiválaszthatjuk, hogy publikusak-e a beállításaink <em>(everybody)</em>, vagy csak az adatbázisunkba bejelentkezett felhasználók <em>(logined users)</em> használhatják az adott opciót. A <strong>Csoport hozzáférés</strong> oszlopban tovább finomíthatjuk a hozzáférési opciókat, azáltal hogy kiválasztjuk az előre definiált csoportjainkat, vagy akár egyes személyeket is hozzárendelhetünk az adott beállításhoz.</p>
</div>
<div class="section" id="modul-torles-a-sajat-listankbol">
<h3>Modul törlés a saját listánkból<a class="headerlink" href="#modul-torles-a-sajat-listankbol" title="Permalink to this headline">¶</a></h3>
<p>A nem használt modulokat ki tudjuk törölni a saját listánkból úgy, hogy az <strong>Engedélyezett</strong> oszlopot <em>“nem”</em>-re állítjuk és a <strong>Module name</strong> oszlopban kitöröljük az adatbázis nevét, majd rákattintunk a <strong>Műveletek</strong> oszlopban található <em>“módosít”</em> gombra.</p>
</div>
<div class="section" id="modul-ki-be-kapcsolas">
<h3>Modul ki/be kapcsolás<a class="headerlink" href="#modul-ki-be-kapcsolas" title="Permalink to this headline">¶</a></h3>
<p>Miután kialakítottuk a saját modul listánkat, az egyes modulokat ki és be tudjuk kapcsolni. Ezt úgy lehet megtenni, hogy az <strong>Engedélyezett</strong> fejlécű oszlopban választunk az <em>“igen”</em> vagy <em>“nem”</em> opcióból.</p>
</div>
<div class="section" id="modulok-szemelyre-szabasa">
<h3>Modulok személyre szabása<a class="headerlink" href="#modulok-szemelyre-szabasa" title="Permalink to this headline">¶</a></h3>
<p>A <strong>Function</strong> oszlopban kiválaszthatjuk, hogy a modul gyári beállításait szeretnénk használni <em>“default”</em> opció választásával, vagy ha egyéni beállításokat szeretnénk használni választhatjuk a <em>“private”</em> opciót is. Az utóbbi esetben lehetőség van az egyes modulok forráskódjának a letöltésére, amit az adatbázisunk igényei szerint kiegészíthetünk még további funkciókkal. A modul forráskódját a <strong>Modul cseréje</strong> oszlopból tudjuk letölteni az <em>“export”</em> gombra kattintva. A módosított modult <em>“Fájl kiválasztása”</em> opción keresztül tudjuk visszatölteni és aktiválni az adatbázisunkhoz.</p>
</div>
<div class="section" id="modulok-parameterezese">
<h3>Modulok paraméterezése<a class="headerlink" href="#modulok-parameterezese" title="Permalink to this headline">¶</a></h3>
<p>Be tudjuk állítani, hogy a különböző modulok milyen feltételek mellett működjenek, vagy akár azt is, hogy melyik oszlopokra legyen érvényes. Ezt a <strong>Parameters</strong> oszlopon keresztül tudjuk megtenni. A modulok paraméterezését modulokra lebontva megtalálhatod alább a <em>“Modul leírások”</em> részben.</p>
</div>
</div>
<div class="section" id="modul-leirasok">
<h2>Modul leírások<a class="headerlink" href="#modul-leirasok" title="Permalink to this headline">¶</a></h2>
<div class="section" id="additional-columns">
<h3>additional_columns<a class="headerlink" href="#additional-columns" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás</p>
<ul class="simple">
<li>Ha egy adatbázis több adattáblából áll azokat különböző változókkal össze lehet kötni.</li>
<li>Lekérdezésnél az egy azonosítóhoz tartozó összes adatot lekérdezi. Ezt a funkciót a térképes oldalon az <em>“ignore table JOINS”</em> beikszelésével figyelmen kívül lehet hagyni.</li>
<li>Például bizonyos odú projektekben külön táblázatban kezeljük az adatokat a szülőkről és a fiókákról, ha az egy odúhoz tartozó össze adatot megszeretnénk kapni, akkor az <em>“odu_aszonosito”</em> oszlopot adjuk meg “összekötő” változónak.</li>
</ul>
<p>Paraméterezés:</p>
<p>Egymás alá írt oszlop nevek, felsorolás jel és vessző nélkül. Például:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>faj
megfigyelő
dátum
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">return_columns</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="allowed-columns">
<h3>allowed_columns<a class="headerlink" href="#allowed-columns" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Itt lehet beállítani, hogy melyik oszlop legyen látható a különböző hozzáférési szinteken.</li>
<li>Akkor lehet használni ha az adattáblához van <em>“rules”</em> tábla is rendelve és a projekt alap hozzáférési szintje nem publikus.</li>
</ul>
<p>Paraméterezés:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">for_sensitive_data</span><span class="o">:</span>
    <span class="n">vesszővel</span> <span class="n">elválasztott</span> <span class="n">felsorolása</span> <span class="n">azoknak</span> <span class="n">az</span> <span class="n">oszlopoknak</span><span class="o">,</span> <span class="n">amiket</span> <span class="n">láthatóvá</span> <span class="n">szeretnénk</span> <span class="n">tenni</span><span class="o">.</span> <span class="n">Nem</span> <span class="n">mutatja</span> <span class="n">az</span> <span class="n">adathoz</span> <span class="n">tartozó</span> <span class="n">geometriát</span><span class="o">.</span>
<span class="n">for_no</span><span class="o">-</span><span class="n">geom_data</span><span class="o">:</span>
    <span class="n">vesszővel</span> <span class="n">elválasztott</span> <span class="n">felsorolása</span> <span class="n">azoknak</span> <span class="n">az</span> <span class="n">oszlopoknak</span><span class="o">,</span> <span class="n">amiket</span> <span class="n">láthatóvá</span> <span class="n">szeretnénk</span> <span class="n">tenni</span>
<span class="n">for_general</span><span class="o">:</span>
    <span class="n">vesszővel</span> <span class="n">elválasztott</span> <span class="n">felsorolása</span> <span class="n">azoknak</span> <span class="n">az</span> <span class="n">oszlopoknak</span><span class="o">,</span> <span class="n">amiket</span> <span class="n">láthatóvá</span> <span class="n">szeretnénk</span> <span class="n">tenni</span>
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">return_columns</span><span class="o">(),</span> <span class="n">return_gcolumns</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="bold-yellow">
<h3>bold_yellow<a class="headerlink" href="#bold-yellow" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Vastag betűvel sárgán írt oszlop nevek az eredmény listákban. Lekérdezés után a <em>“Kinyitható lista”</em> táblához csatolt részletes leírásban vastag betűvel, sárgán írt oszlop nevek jelennek meg.</li>
<li>Ezzel a modullal határozható meg az is, hogy a mobil alkalmazásban a <strong>“Felvett adatok”</strong> menüpontban az adatfelvétel összefoglaló címkéin, milyen adatok jelenjenek meg.</li>
</ul>
<p>Paraméterezés:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Egymás alá írt oszlop nevek, felsorolás jel és vessző nélkül. Pl.:
    faj
    megfigyelő
    dátum
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="box-custom">
<h3>box_custom<a class="headerlink" href="#box-custom" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Egyénileg létrehozott modulok betöltését teszi lehetővé.</li>
<li>Az egyénileg létrehozott modult a projekt könyvtárban az <em>includes/modules/private</em> mappában kell elhelyezni. Amennyiben szükséges, létre kell hozni a könyvtárat. A könyvtár jogosultságait célszerű úgy beállítani, hogy a www-data felhasználónak ne legyen írási jogosultsága. Ezzel elkerülhető, hogy az egyénileg létrehozott moduljaink felülíródjanak egy frissítés során.</li>
</ul>
<p>Paraméterezés:
A modul(ok) fájlneve kiterjesztés nélkül. Több custom modul esetén a modulneveket sortöréssel kell elválasztani.
Például <em>hrsz_query</em>, ahol a <em>hrsz_query_Class</em> egy osztály a <em>hrsz_query.php</em> fájlban ami a <em>includes/modules/private</em> mappába került.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>hrsz_query
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>Az osztálynak legalább a print_box () és a print_js () funkcióknak tartalmazniuk kell.

Függvények:

Hívások:
</pre></div>
</div>
</div>
<div class="section" id="box-load-coord">
<h3>box_load_coord<a class="headerlink" href="#box-load-coord" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>A térképes oldalon feltűnik a <em>“pozíció”</em> blokk a térkép alatt. Ha a kurzort mozgatjuk a térképen, akkor láthatjuk hogy a <em>“pozíció”</em> blokkban a koordináta folyamatosan változik, mintegy lekövetve a kurzorunk helyzetét a térképen.</li>
<li>Szintén a <em>“pozíció”</em> blokkban, ha beírjuk a szélességi és hosszúsági fokokat, akkor a kis, fekete <em>“nyalókára”</em> kattintva a téképen megjelenik a pontunk.</li>
</ul>
<p>Paraméterezés:
Különböző koordináta rendszerek vetületeit adhatjuk itt meg, pl.:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">wgs84</span><span class="o">:</span><span class="mi">4326</span>
<span class="n">eov</span><span class="o">=</span><span class="mi">23700</span>
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">print_box</span><span class="o">(),</span> <span class="n">limits</span><span class="o">(),</span> <span class="n">ajax</span><span class="o">(),</span> <span class="n">print_js</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="box-load-last-data">
<h3>box_load_last_data<a class="headerlink" href="#box-load-last-data" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Létrehozza a <strong>Gyors lekérdezések</strong> opciót a térképes oldalon a térkép jobb oldalán. Három lehetőség közül lehet választani:<ul>
<li>utolsó saját feltöltés,</li>
<li>legutolsó feltöltés (bárkié)</li>
<li>utolsó feltöltött sorok.</li>
</ul>
</li>
<li>A modul oldalon be lehet állítani, hogy mennyi lehet az utolsó feltöltött sorok lekérdezett sor mennyisége. A másik két opció esetében mindig 1 sort ad vissza a modul.</li>
</ul>
<p>Paraméterezés:
Egy számot adunk meg, pl.: 10</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>10
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="box-load-selection">
<h3>box_load_selection<a class="headerlink" href="#box-load-selection" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lehetővé teszi saját előre definiált koordináták feltöltését a profil oldalon megtalálható <strong>“Megosztott geometriák”</strong> ablakon keresztül. Ezek a koordináták lehetnek pontok, poligonok vagy akár raszterek is.</li>
<li>Az előre definiált koordinátáinkat a modul oldalon keresztül tudjuk hozzáadni az adatbázisunkhoz, úgy hogy rákattintunk a zöld háttérrel rendelkező fogaskerékre. A megjelenő oldalon nem csak a saját, hanem a mások által definiált “publikusnak” nyilvánított koordináták is megjelennek. Megkeressük a számunkra szükséges koordinátákat, majd a koordináta mellett található áthúzott szemekre kattintva be tudjuk állítani, hogy az adott koordináta látható legyen-e az adatbázisban. Továbbá eldönthetjük, hogy ezeket a koordinátákat egyes személyekhez vagy csoportokhoz rendeljük.</li>
<li>Bekapcsolása után a <strong>Térkép</strong> oldalon megjelenik a <strong>“Térbeli lekérdezés”</strong> ablak. Itt egy legördülő listában láthatóak az előre definiált koordinátáink, amelyek alapján lekérdezhetjük az adatainkat. Raszterek esetén beállítható, hogy csak azokat az adatokat kérdezze le, amik a raszteren belül találhatóak vagy azokat is, amelyek a raszterek élei alá esnek.</li>
<li>A webes és fájl feltöltés esetén, ha az <em>“obm_geometry”</em> oszlop típust használjuk koordináta felvételre, akkor a megjelenő az oszlop legördülő menüjére kattintva megjelenik egy kis ablak, amin keresztül lehetővé válik a térképről történő koordináta felvétel. Ezen a kis ablakon belül található a <em>“geometria listából”</em> opció, aminek a legördülő menüjében megtalálhatóak az előre definiált koordinátáink. Emellett lehetőségünk van közvetlenül a térképről felvenni koordinátákat a <em>“koordináták térképről”</em> menüpontra kattintva.</li>
<li><em>“koordináták térképről”</em>  menüpont: erre az opcióra kattintva megjelenik egy térkép amiről felvehetjük a koordinátáinkat. A térkép jobb alsó sarkában található ceruza ikonra kattintva egy pontot jelölhetünk ki, míg a négyzet ikonra kattintva poligonként, akár egy nagyobb területet is körbe jelölhetünk.</li>
</ul>
<p>Paraméterezés:
Beállíthatjuk, hogyan szeretnénk az adatokat lekérdezni, ha ezt nem paraméterezzük akkor az összes mód elérhető.</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>contains -
intersects -
crosses -
disjoint -
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="create-pg-user">
<h3>create_pg_user<a class="headerlink" href="#create-pg-user" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Engedélyezés után a profil oldalon megjelenik a <strong>Postgres felhasználó készítése</strong> opció.</li>
<li>A modul engedélyezésével azok a felhasználók, akik kapnak jogot a modul használatára, tudnak maguknak saját postgres azonosítót készíteni.</li>
<li>Korlátozott hozzáférésű POSTGRES felhasználó létrehozása: ez a felhasználó csak olvasni tud az adatbázisból, módosítani, törölni nem.<ul>
<li>Minden a projekthez rendelt adattáblát tud olvasni.</li>
<li>Egyszerre csak egy kliens programból tud az adatbázishoz kapcsolódni.</li>
<li>Egy év után automatikusan lejár a hozzáférése.</li>
<li>Bármikor megújíthatja a hozzáférését a felhasználó.
Postgres felhasználóval lehet például QGIS-ből kapcsolódni az adatbázishoz. Ennek a beállítására egy példa:</li>
</ul>
</li>
</ul>
<a class="reference external image-reference" href="images/qgis_connect.jpg"><img alt="QGIS-ben PostGis kapcsolata hozzáadása OpenBioMaps-hoz" src="_images/qgis_connect.jpg" /></a>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">create_pg_user</span><span class="o">(),</span> <span class="n">show_button</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-admin-pages">
<h3>custom_admin_pages<a class="headerlink" href="#custom-admin-pages" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-data-check">
<h3>custom_data_check<a class="headerlink" href="#custom-data-check" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>(Custom data checks of upload data.)?</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">list</span><span class="o">(),</span> <span class="n">check</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-filetype">
<h3>custom_filetype<a class="headerlink" href="#custom-filetype" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Adat fájlok átalakítása, más rendszerek formátumára pl.: observado típusú .CSV</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">option_list</span><span class="o">(),</span> <span class="n">custom_read</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="custom-notify">
<h3>custom_notify<a class="headerlink" href="#custom-notify" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>(Creates custom postgres based notify events.)???</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">listen</span><span class="o">(),</span> <span class="n">unlisten</span><span class="o">(),</span> <span class="n">notify</span><span class="o">(),</span> <span class="n">email</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="download-restricted">
<h3>download_restricted<a class="headerlink" href="#download-restricted" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>A lekérdezett adatok letöltése az adatbázis adminok jóváhagyásával lehetséges.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="ebp">
<h3>ebp<a class="headerlink" href="#ebp" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Automatikusan tölti fel speciális adatokat speciális felületekre pl: EBirds adatbázis</li>
</ul>
<p>Paraméterezés:</p>
<p>Függvények:</p>
<p>Hívások:</p>
</div>
<div class="section" id="extra-params">
<h3>extra_params<a class="headerlink" href="#extra-params" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>(Extra input paramaters for forms.)?</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="grid-view">
<h3>grid_view<a class="headerlink" href="#grid-view" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Előre definiált poligonok szerint is lehet adatot lekérdezni.</li>
<li>SQL-ben kell beállítani a szükséges paramétereket</li>
</ul>
<p>Paraméterezés:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>layer_options
</pre></div>
</div>
<dl class="docutils">
<dt>Paraméterezésre példa:</dt>
<dd>layer_options:kef_5 (dinpi_grid), utm_2.5 (dinpi_grid), utm_10 (dinpi_grid), utm_100 (dinpi_grid), original (dinpi_points,dinpi_grid),etrs(dinpi_grid)</dd>
</dl>
<p>Példa trigger funkcióra:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>    <span class="nt">Trigger</span> <span class="nt">on</span> <span class="nt">nnn_qgrids</span><span class="o">:</span>
<span class="err">```</span><span class="nt">sql</span>
    <span class="nt">CREATE</span> <span class="nt">TRIGGER</span> <span class="nt">self_update</span> <span class="nt">BEFORE</span> <span class="nt">INSERT</span> <span class="nt">OR</span> <span class="nt">UPDATE</span> <span class="nt">ON</span> <span class="nt">dinpi_qgrids</span> <span class="nt">FOR</span> <span class="nt">EACH</span> <span class="nt">ROW</span> <span class="nt">EXECUTE</span> <span class="nt">PROCEDURE</span> <span class="nt">update_qgrids_geometries</span><span class="o">()</span>
<span class="err">```</span>
    <span class="nt">Trigger</span> <span class="nt">on</span> <span class="nt">nnn</span> <span class="nt">table</span><span class="o">:</span>
<span class="err">```</span><span class="nt">sql</span>
    <span class="nt">CREATE</span> <span class="nt">TRIGGER</span> <span class="nt">update_qgrids</span> <span class="nt">AFTER</span> <span class="nt">INSERT</span> <span class="nt">OR</span> <span class="nt">DELETE</span> <span class="nt">OR</span> <span class="nt">UPDATE</span> <span class="nt">ON</span> <span class="nt">dinpi</span> <span class="nt">FOR</span> <span class="nt">EACH</span> <span class="nt">ROW</span> <span class="nt">EXECUTE</span> <span class="nt">PROCEDURE</span> <span class="nt">grid_geometries</span><span class="o">()</span>
<span class="err">```</span>
<span class="nt">Function</span> <span class="nt">grid_geometries</span><span class="o">()</span>
<span class="err">```</span><span class="nt">sql</span>
<span class="nt">BEGIN</span>
<span class="nt">IF</span> <span class="nt">tg_op</span> <span class="o">=</span> <span class="s1">&#39;INSERT&#39;</span> <span class="nt">THEN</span>

    <span class="nt">EXECUTE</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;INSERT INTO %I_qgrids (row_id,original) SELECT %L,%L::geometry&#39;</span><span class="o">,</span><span class="nt">TG_TABLE_NAME</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">obm_id</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">obm_geometry</span><span class="o">);</span>

<span class="nt">RETURN</span> <span class="nt">NEW</span><span class="o">;</span>
<span class="nt">END</span> <span class="nt">IF</span><span class="o">;</span>

<span class="nt">IF</span> <span class="nt">tg_op</span> <span class="o">=</span> <span class="s1">&#39;UPDATE&#39;</span> <span class="nt">THEN</span>
    <span class="nt">--</span> <span class="nt">create</span> <span class="nt">original</span> <span class="nt">at</span> <span class="nt">first</span>
    <span class="nt">--EXECUTE</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;INSERT INTO %I_qgrids (row_id,original) SELECT %L,%L::geometry&#39;</span><span class="o">,</span><span class="nt">TG_TABLE_NAME</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">obm_id</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">obm_geometry</span><span class="o">);</span>
    <span class="nt">EXECUTE</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;UPDATE %I_qgrids SET &quot;original&quot;=%L::geometry WHERE row_id=%L&#39;</span><span class="o">,</span> <span class="nt">TG_TABLE_NAME</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">obm_geometry</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">obm_id</span><span class="o">);</span>

<span class="nt">RETURN</span> <span class="nt">NEW</span><span class="o">;</span>
<span class="nt">END</span> <span class="nt">IF</span><span class="o">;</span>

<span class="nt">IF</span> <span class="nt">tg_op</span> <span class="o">=</span> <span class="s1">&#39;DELETE&#39;</span> <span class="nt">THEN</span>

    <span class="nt">EXECUTE</span> <span class="nt">format</span><span class="o">(</span><span class="s1">&#39;DELETE FROM %I_qgrids WHERE row_id=%L&#39;</span><span class="o">,</span><span class="nt">TG_TABLE_NAME</span><span class="o">,</span><span class="nt">OLD</span><span class="p">.</span><span class="nc">obm_id</span><span class="o">);</span>

<span class="nt">RETURN</span> <span class="nt">OLD</span><span class="o">;</span>
<span class="nt">END</span> <span class="nt">IF</span><span class="o">;</span>

<span class="nt">END</span><span class="o">;</span>
<span class="err">```</span>

<span class="nt">Function</span> <span class="nt">update_qgrids_geometries</span><span class="o">()</span>
<span class="err">```</span><span class="nt">sql</span>
<span class="nt">BEGIN</span>
<span class="nt">--</span> <span class="nt">Available</span> <span class="nt">shared</span> <span class="nt">grids</span> <span class="nt">tables</span><span class="o">:</span> <span class="nt">kef_5</span><span class="o">,</span> <span class="nt">kef_10</span><span class="o">,</span> <span class="nt">utm_2</span><span class="p">.</span><span class="nc">5</span><span class="o">,</span> <span class="nt">utm_10</span><span class="o">,</span> <span class="nt">etrs</span>
<span class="nt">--</span> <span class="nt">Required</span> <span class="nt">output</span> <span class="nt">grids</span> <span class="nt">e</span><span class="p">.</span><span class="nc">g</span><span class="o">.:</span> <span class="nt">kef_10x10</span><span class="o">,</span> <span class="nt">utm_10x10</span><span class="o">,</span> <span class="nt">etrs</span><span class="o">,</span> <span class="nt">snap</span>

    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_transform(geometry,4326) FROM shared.&quot;kef_5x5&quot;     WHERE st_within(st_setsrid(%L::geometry,4326),st_transform(geometry,4326))&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;kef_5&quot;</span><span class="o">;</span>
    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_transform(geometry,4326) FROM shared.&quot;kef_10x10&quot;   WHERE st_within(st_setsrid(%L::geometry,4326),st_transform(geometry,4326))&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;kef_10&quot;</span><span class="o">;</span>
    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_transform(geometry,4326) FROM shared.&quot;utm_2.5x2.5&quot; WHERE st_within(st_setsrid(%L::geometry,4326),st_transform(geometry,4326))&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;utm_2.5&quot;</span><span class="o">;</span>
    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_transform(geometry,4326) FROM shared.&quot;utm_10x10&quot;   WHERE st_within(st_setsrid(%L::geometry,4326),st_transform(geometry,4326))&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;utm_10&quot;</span><span class="o">;</span>
    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_transform(geometry,4326) FROM shared.&quot;utm_100x100&quot; WHERE st_within(st_setsrid(%L::geometry,4326),st_transform(geometry,4326))&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;utm_100&quot;</span><span class="o">;</span>
    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_transform(geometry,4326) FROM shared.&quot;etrs&quot;        WHERE st_within(st_setsrid(%L::geometry,4326),st_transform(geometry,4326))&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;etrs&quot;</span><span class="o">;</span>
    <span class="nt">EXECUTE</span> <span class="nt">FORMAT</span><span class="o">(</span><span class="s1">&#39;SELECT st_SnapToGrid(%L::geometry,0.13,0.09)&#39;</span><span class="o">,</span><span class="nt">NEW</span><span class="p">.</span><span class="nc">original</span><span class="o">)</span> <span class="nt">INTO</span> <span class="nt">NEW</span><span class="o">.</span><span class="s2">&quot;snap&quot;</span><span class="o">;</span>

    <span class="nt">RETURN</span> <span class="nt">NEW</span><span class="o">;</span>

<span class="nt">END</span><span class="o">;</span>
<span class="err">```</span>
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">print_box</span><span class="o">(),</span> <span class="n">default_grid_geom</span><span class="o">(),</span> <span class="n">get_grid_layer</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="identify-point">
<h3>identify_point<a class="headerlink" href="#identify-point" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Egy vagy több pont azonosítása a térképen.</li>
<li>Egy kis buborékban láthatóvá tesz az adott adat pontról néhány információt, amit előzőleg már beállítottunk.</li>
</ul>
<p>Paraméterezés:
Egymás alá írt sorok, felsorolás jel és vessző nélkül pl.:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>faj
dátum
</pre></div>
</div>
<p>Fejlesztői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">return_data</span><span class="o">(),</span> <span class="n">print_button</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="list-manager">
<h3>list_manager<a class="headerlink" href="#list-manager" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Az adatbázis oszlopoknál bekapcsol egy plusz funkciót, ami meghatározza a listát. ?</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="massive-edit">
<h3>massive_edit<a class="headerlink" href="#massive-edit" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lehetővé teszi a már feltöltött adatok szerkesztését a fájl feltöltés opción keresztül.</li>
<li>Csak akkor működik, ha az obm_id oszlop engedélyezve van.</li>
<li>Létre kell hozni egy külön formot a szerkesztéshez.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="move-project">
<h3>move_project<a class="headerlink" href="#move-project" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>A projekt költöztetése egyik szerverről a másikra.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="photos">
<h3>photos<a class="headerlink" href="#photos" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lehetővé teszi a fájl feltöltés funkciót, azáltal hogy létrehozza a <strong>obm_files_id</strong> oszloptípust, ami az OpenBioMaps saját oszloptípusa.</li>
<li>Bekapcsolás utáni elérési útvonal: Projekt adminisztráció -&gt; Adatbázis oszlopok. Hozzáadjuk az adattáblánkhoz az <strong>obm_files_id</strong> oszlopot, majd ennek az oszlopnak az <em>OpenBioMaps</em> típusát <em>“csatolmánynak”</em> állítjuk a legördülő menüből.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="read-table">
<h3>read_table<a class="headerlink" href="#read-table" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Görgethető html táblázatot hoz létre, ami egy linken keresztül elérhetővé lehet tenni.</li>
</ul>
<p>Paraméterezés:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>schema.table, vagy
    schema.table:default-order-column
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="restricted-data">
<h3>restricted_data<a class="headerlink" href="#restricted-data" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>(Rule based data restriction) ??</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">rule_data</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-buttons">
<h3>results_buttons<a class="headerlink" href="#results-buttons" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezés után a térképes felületen létrehozza a következő füleket: <strong>Mentési opciók</strong>, <strong>Szerkesztési opciók</strong>, <strong>Megjelenítési opciók</strong>.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-ascsv">
<h3>results_asCSV<a class="headerlink" href="#results-ascsv" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezésnél létrehoz egy letölthető .CSV fájlt.</li>
<li>A térkép alatt <strong>Mentési opciók</strong> fül lenyitásával találjuk meg ezt a fájlt.</li>
<li>Be kell hozzá kapcsolni a <em>“results_button”</em> modult, hogy láthatóvá váljon a <strong>Mentési opciók</strong> fül.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-asgpx">
<h3>results_asGPX<a class="headerlink" href="#results-asgpx" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezésnél létrehoz egy letölthető .GPX fájlt, amit koordináta kezelő szoftverekkel tudunk alkalmazni pl.: GPS.</li>
<li>A térkép alatt <strong>Mentési opciók</strong> fül lenyitásával találjuk meg ezt a fájlt.</li>
<li>Be kell hozzá kapcsolni a <em>“results_button”</em> modult, hogy láthatóvá váljon a <strong>Mentési opciók</strong> fül.</li>
</ul>
<p>Paraméterezés:</p>
<p>Függvények:</p>
<p>Hívások:</p>
</div>
<div class="section" id="results-ashtmltable">
<h3>results_asHtmltable<a class="headerlink" href="#results-ashtmltable" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezésnél létrehoz egy .html fájlt.</li>
<li>A térkép alatt <strong>Mentési opciók</strong> fül lenyitásával találjuk meg ezt a fájlt.</li>
<li>Be kell hozzá kapcsolni a <em>“results_button”</em> modult, hogy láthatóvá váljon a <strong>Mentési opciók</strong> fül.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-asjson">
<h3>results_asJSON<a class="headerlink" href="#results-asjson" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezésnél létrehoz egy letölthető .JSON fájlt.</li>
</ul>
<p>Paraméterezés:</p>
<p>Függvények:</p>
<p>Hívások:</p>
</div>
<div class="section" id="results-aslist">
<h3>results_asList<a class="headerlink" href="#results-aslist" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lehetővé teszi a listás lekérdezést.</li>
<li>Lekérdezés után a térképes oldalon megjelenik a <strong>Megjelenítési opciók</strong> fülben a <em>“Kinyitható lista”</em> opció, ami csak feltöltés azonosítóját mutatja. A részletekre kattintva a feltöltéshez tartozó összes adat megjelenik egy külön ablakban.</li>
<li>Be kell hozzá kapcsolni a <em>“results_button”</em> modult, hogy láthatóvá váljon a <strong>Megjelenítési opciók</strong> fül.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span> <span class="n">results_builder</span><span class="o">()</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-asshp">
<h3>results_asSHP<a class="headerlink" href="#results-asshp" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezésnél minden geometria típosra létrehoz egy letölthető .SHP fájlt, amit .zip formátumban lehet letölteni.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-askml">
<h3>results_asKML<a class="headerlink" href="#results-askml" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezésnél létrehoz egy letölthető .KML fájlt</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-asstable">
<h3>results_asStable<a class="headerlink" href="#results-asstable" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Létrehoz egy kompakt táblázatot, amiben csak az általunk választott oszlopok lesznek benne.</li>
<li>Be kell hozzá kapcsolni a <em>“results_button”</em> modult, hogy láthatóvá váljon a <strong>Megjelenítési opciók</strong> fül.</li>
</ul>
<p>Paraméterezés:
Egymás alá írt oszlop nevek, felsorolás jel és vessző nélkül. Például:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>faj
megfigyelő
dátum
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-astable">
<h3>results_asTable<a class="headerlink" href="#results-astable" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Olyan táblázatot hoz létre, ami az összes lekérdezett adatot tartalmazza.</li>
<li>Nincs használva, mert nagy adatmennyiségeknél nagyon megterhelő a böngészőnek. Pár száz sor adat az még ok.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-specieslist">
<h3>results_specieslist<a class="headerlink" href="#results-specieslist" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lekérdezés után a térképes felületen a térkép alatt az <strong>Összefoglaló</strong> fülben létrehozza <em>“Lekérdezésben előforduló fajok listáját”</em>.</li>
<li>Be kell hozzá kapcsolni a <em>“results_summary”</em> modult, hogy láthatóvá váljon az <strong>Összefoglaló</strong> fül.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="results-summary">
<h3>results_summary<a class="headerlink" href="#results-summary" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>A térképes oldalon lekérdezés után létrehozza az <strong>Összefoglaló</strong> fület a térkép alatt.</li>
<li>Kiírja a találatok számát.</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="simple-search">
<h3>simple_search<a class="headerlink" href="#simple-search" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Google-szerű automatikus kereső motor, több mezőben keres egyszerre, például, megfigyelő és fajnév</li>
</ul>
<p>Paraméterezés:</p>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="text-filter">
<h3>text_filter<a class="headerlink" href="#text-filter" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lehetővé teszi bizonyos oszlopok alapján szűrjük a meglévő adatokat pl.: év, helyszín, feltöltő.</li>
<li>A térképes oldalon létrehozza a <strong>Szöveges szűrők</strong> ablakot a térképes oldal jobb felén.</li>
<li>Ha be van kapcsolva a <em>“text_filter2”</em> modul nem használható.</li>
</ul>
<p>Paraméterezés:
Egymás alá írt oszlop nevek, felsorolás jel és vessző nélkül. Pl.:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">obm_datum</span>
    <span class="n">obm_uploading_date</span>
    <span class="n">obm_uploader_user</span>
    <span class="n">obm_taxon</span>

<span class="n">Létre</span> <span class="n">lehet</span> <span class="n">hozni</span> <span class="n">egymásba</span> é<span class="n">pített</span> <span class="n">szűrőket</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">faj</span><span class="o">::</span><span class="n">colour_rings</span> <span class="o">&lt;-</span> <span class="n">csak</span> <span class="n">az</span> <span class="n">adott</span> <span class="n">fajon</span> <span class="n">belül</span> <span class="n">feltett</span> <span class="n">színes</span> <span class="n">gyűrű</span> <span class="n">kombinációkat</span> <span class="n">mutatja</span>
<span class="n">Létre</span> <span class="n">lehet</span> <span class="n">hozni</span> <span class="nf">legördülő </span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span> <span class="n">listákat</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">faj</span><span class="o">::</span><span class="n">autocomplete</span> <span class="o">&lt;-</span> <span class="n">legördülő</span> <span class="n">menüből</span> <span class="n">választhatunk</span><span class="p">,</span> <span class="n">hogy</span> <span class="n">melyik</span> <span class="n">fajra</span> <span class="n">szeretnénk</span> <span class="n">szűrni</span>
<span class="n">Kombinálhatjuk</span> <span class="n">az</span> <span class="n">egymásba</span> é<span class="n">pített</span> é<span class="n">s</span> <span class="n">a</span> <span class="n">legördülő</span> <span class="n">menüt</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">faj</span><span class="o">:</span><span class="nf">nested</span><span class="p">(</span><span class="n">colour_rings</span><span class="p">)</span><span class="o">:</span><span class="n">autocomplete</span>
    <span class="n">Akár</span> <span class="n">egyedszám</span><span class="o">/</span><span class="n">populáció</span> <span class="n">méeret</span> <span class="n">szerint</span> <span class="n">is</span> <span class="n">lehet</span> <span class="n">szűrni</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">d.egyedszam</span><span class="o">:</span><span class="nf">values</span><span class="p">()</span><span class="o">:</span>  <span class="n">Itt</span> <span class="n">a</span> <span class="s">&quot;d.&quot;</span> <span class="n">azt</span> <span class="n">jelenti</span><span class="p">,</span> <span class="n">hogy</span> <span class="n">a</span> <span class="s">&quot;d&quot;</span> <span class="n">SQL</span> <span class="n">aliassal</span> <span class="n">jelölt</span> <span class="n">táblából</span> <span class="n">kérdezzen.</span>

<span class="n">Aliasok</span> <span class="n">hazsnálata</span><span class="o">:</span>
<span class="n">táblaalias.oszlop</span> <span class="n">formátumban</span> <span class="n">kell</span> <span class="n">megadni</span><span class="p">,</span> <span class="n">ha</span> <span class="n">joinolt</span> <span class="n">táblákat</span> <span class="n">hazsnálunk</span><span class="p">,</span> <span class="n">vagy</span> <span class="n">akkor</span> <span class="n">is</span><span class="p">,</span> <span class="n">ha</span> <span class="n">használunk</span> <span class="n">aliast</span> <span class="n">az</span> <span class="n">SQL</span> <span class="n">query</span><span class="o">-</span><span class="n">nkben.</span>
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="text-filter2">
<h3>text_filter2<a class="headerlink" href="#text-filter2" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<ul class="simple">
<li>Lehetővé teszi bizonyos oszlopok alapján szűrjük a meglévő adatokat pl.: év, helyszín, feltöltő.</li>
<li>A térképes oldalon létrehozza a <strong>Szöveges szűrők</strong> ablakot a térképes oldal jobb felén.</li>
<li>Ha be van kapcsolva a <em>“text_filter”</em> modul nem használható.</li>
<li>Fejlesztés alatt!</li>
</ul>
<p>Paraméterezés:
Egymás alá írt oszlop nevek, felsorolás jel és vessző nélkül. Pl.:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">obm_datum</span>
    <span class="n">obm_uploading_date</span>
<span class="n">obm_uploader_userfaj</span>
<span class="n">obm_taxon</span>

<span class="n">Létre</span> <span class="n">lehet</span> <span class="n">hozni</span> <span class="n">egymásba</span> é<span class="n">pített</span> <span class="n">szűrőket</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">faj</span><span class="o">::</span><span class="n">colour_rings</span> <span class="o">&lt;-</span> <span class="n">csak</span> <span class="n">az</span> <span class="n">adott</span> <span class="n">fajon</span> <span class="n">belül</span> <span class="n">feltett</span> <span class="n">színes</span> <span class="n">gyűrű</span> <span class="n">kombinációkat</span> <span class="n">mutatja</span>
<span class="n">Létre</span> <span class="n">lehet</span> <span class="n">hozni</span> <span class="nf">legördülő </span><span class="p">(</span><span class="n">autocomplete</span><span class="p">)</span> <span class="n">listákat</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">faj</span><span class="o">::</span><span class="n">autocomplete</span> <span class="o">&lt;-</span> <span class="n">legördülő</span> <span class="n">menüből</span> <span class="n">választhatunk</span><span class="p">,</span> <span class="n">hogy</span> <span class="n">melyik</span> <span class="n">fajra</span> <span class="n">szeretnénk</span> <span class="n">szűrni</span>
<span class="n">Kombinálhatjuk</span> <span class="n">az</span> <span class="n">egymásba</span> é<span class="n">pített</span> é<span class="n">s</span> <span class="n">a</span> <span class="n">legördülő</span> <span class="n">menüt</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">faj</span><span class="o">:</span><span class="nf">nested</span><span class="p">(</span><span class="n">colour_rings</span><span class="p">)</span><span class="o">:</span><span class="n">autocomplete</span>
    <span class="n">Akár</span> <span class="n">egyedszám</span><span class="o">/</span><span class="n">populáció</span> <span class="n">méret</span> <span class="n">szerint</span> <span class="n">is</span> <span class="n">lehet</span> <span class="n">szűrni</span>
        <span class="n">pl.</span><span class="o">:</span> <span class="n">d.egyedszam</span><span class="o">:</span><span class="nf">values</span><span class="p">()</span><span class="o">:</span>
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="transform-data">
<h3>transform_data<a class="headerlink" href="#transform-data" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>* Lekérdezésnél átalakítja a kimeneti adatot pl.: geometria -&gt; wkt
</pre></div>
</div>
<p>Paraméterezés:
Egymás alá írt sorok, felsorolás jel és vessző nélkül pl.:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">obm_geometry</span><span class="o">:</span><span class="n">geom</span>
<span class="n">obm_uploading_id</span><span class="o">:</span><span class="n">uplid</span>
<span class="n">tema</span><span class="o">:</span><span class="n">mmm</span>
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
<div class="section" id="job-manager-validation">
<h3>job_manager (validation)<a class="headerlink" href="#job-manager-validation" title="Permalink to this headline">¶</a></h3>
<p>Általános leírás:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>* A job_manager modullal a háttérfolyamatokkal kapcsolatos műveleteket lehet elvégezni. A modul paraméterei a háttérfolyamatok nevei.
* Egy új paraméter felvétele regisztrálja háttérfolyamatot a validation_jobs táblában, valamint létrehozza a háttérfolyamat fájljait: egy modul fájlt a modules/validation_modules mappába, egy job fájlt pedig a jobs mappába.
</pre></div>
</div>
<p>Paraméterezés:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>* A háttérfolyamatok nevei.
</pre></div>
</div>
<p>Publikált háttérfolyamatok:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>observation_lists
    leírás:
        A mobilalkalmazásban rögzített megfigyeléslistákat másolja át az ideiglenes táblából a céltáblába. Kitölti az obm_obsevation_list_id oszlopot, a listakezdés és befejezés oszlopokat és az időtartam oszlopot. A lista feldolgozása nem történik meg, ha a lista-rekordban szereplő adatszám nem egyezik a ténylegesen feltöltött adatok számával.

    paraméterezés:
        * list_start_column (string): lista indítás ideje oszlop neve
        * list_end_column (string): lista befejezés ideje oszlop neve
        * list_duration_column (string): lista időtartama ideje oszlop neve
        * only_time (boolean): teljes dátumot, vagy csak időt ment
        * time_as_int (boolean): csak akkor működik, ha az only_time igaz - átalakítja az időt percekké

        {
            &quot;táblanév&quot;: {
                &quot;list_start_column&quot;: &quot;time_of_start&quot;,
                &quot;list_end_column&quot;: &quot;time_of_end&quot;,
                &quot;list_duration_column&quot;: &quot;duration&quot;,
                &quot;only_time&quot;: true,
                &quot;time_as_int&quot;: true
                }
            }
        }

incomplete_observation_lists
    leírás:
        Ha feltöltött lista adatszáma nem egyezik a lista-rekord measurements_num értékével, akkor a listát ez a háttérfolyamat dolgozza fel. Ha a különbség a beállított tolerancia határon belül van, akkor a lista-rekord measurements_num értékét átállítja a valós adatszámra, és küld erről egy üzenet. Ezt a listát az observation_list következő futása fel fogja dolgozni. Ha a hiány nagyobb mint a toleraciaérték, akkor csak egy üzenet jön, a továbbiakat kézzel kell elvégezni.

    paraméterezés:
        * mail_to (int): egy role_id, akinek megy az üzenet
        * diff_tolerance (int): hiány toleranciaérték
        * days_offset (int): lista feldoldozásának késleltetése, napokban megadva

        {
            &quot;táblanév&quot;: {
                &quot;mail_to&quot;: 1265,
                &quot;diff_tolerance&quot;: 2,
                &quot;days_offset&quot;: 2
            }
        }
</pre></div>
</div>
<p>Fejleszői dokumentáció</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span><span class="n">Függvények</span><span class="o">:</span>

<span class="n">Hívások</span><span class="o">:</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Bevezetés</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Oktató anyagok</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">Felhasználói felületek</a></li>
<li class="toctree-l1"><a class="reference internal" href="profile.html">Profil lap</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload_data.html">Adatfeltöltés munkafolyamat</a></li>
<li class="toctree-l1"><a class="reference internal" href="admin_pages.html">Adminisztratív oldalak</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modulok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#altalanos-modul-kezeles">Általános modul kezelés:</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modul-leirasok">Modul leírások</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API dokumentáció</a></li>
<li class="toctree-l1"><a class="reference internal" href="server_install.html">Szerver telepítés lépései</a></li>
<li class="toctree-l1"><a class="reference internal" href="privacy.html">Adatkezelési irányelvek</a></li>
<li class="toctree-l1"><a class="reference internal" href="terms.html">Terms and condition</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Gyakran Ismételt Kérdések</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="admin_pages.html" title="Adminisztratív oldalak"
              accesskey="P">previous</a> |
            <a href="api.html" title="API dokumentáció"
              accesskey="N">next</a>
          </div>
          <div role="note" aria-label="source link">
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright OpenBioMaps Konzorcium 2015 - 2020.
      Last updated on Feb 24, 2021.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>