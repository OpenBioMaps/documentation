

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Szerver beállítások &mdash; openbiomaps 4.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
    <link rel="search" title="Search" href="search.html" /> 

</head>

<body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='http://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps_small.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='http://openbiomaps.org' target='_blank'>Kezdőlap</a> | 
            <a href='http://openbiomaps.org/community/' target='_blank'>Közösség</a> | 
            <a href='faq.html'>GYIK</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Ügyek</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Dokumentáció szerkesztése</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="http://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="http://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
      <li>Szerver beállítások</li>
    
    
      <li class="breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Bevezetés</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#openbiomaps-folyamatok">OpenBioMaps folyamatok</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#openbiomaps-konzorcium">OpenBioMaps Konzorcium</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Oktató anyagok</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#felhasznalok-altal-keszitett-szoveges-oktatasi-anyagok">Felhasználók által készített szöveges oktatási anyagok</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#felhasznalok-altal-keszitett-video-oktatasi-anyagok">Felhasználók által készített videó oktatási anyagok</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_interface.html">Felhasználói felületek</a><ul>
<li class="toctree-l2"><a class="reference internal" href="profile.html">Profil lap</a></li>
<li class="toctree-l2"><a class="reference internal" href="admin_pages.html">Projekt adminisztráció</a></li>
<li class="toctree-l2"><a class="reference internal" href="new_project.html">Új adatbázis-projekt létrehozása/alapítása</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_query_interface.html">Spatial queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_query_interface.html#text-queries">Text queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_query_interface.html#save-query">save query</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_query_interface.html#share-query">share query</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#bejelentkezesi-oldal">Bejelentkezési oldal</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#profil-lap">Profil lap</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#projekt-adminisztracio">Projekt adminisztráció</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#terkepi-lap">Térképi lap</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#adat-feltoltes">Adat feltöltés</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#adat-lap">Adat lap</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#adatbazis-osszefoglalo-oldal">Adatbázis összefoglaló oldal</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#nyito-oldal">Nyitó oldal</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_interface.html#hiba-bekuldes">Hiba beküldés</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API dokumentáció</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#api-kezelok">API kezelők:</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#oauth">OAUTH</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#pds">PDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#web-api">WEB API</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#form-data-get-form-data-results-explanations">Form Data (get_form_data results) explanations</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#training-explanations-and-examples">Training explanations and examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#peldak">Példák</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#altalanos-api-valaszok">Általános API válaszok</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server_install.html">Új OBM szerver telepítési útmutató</a><ul>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#new-obm-server-installation-using-docker">New OBM server installation using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#common-errors-and-solutions-after-new-installations-or-updates">Common errors and solutions after new installations or updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#server-configuration">Server configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#local-variables-for-a-project">Local variables for a project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pwa.html">PWA alkalmazás</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pwa.html#mi-az-az-obm-pwa-alkalmazas">Mi az az OBM PWA alkalmazás?</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwa.html#configuration-settings-for-pwa-application">Configuration settings for PWA application</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwa.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mobile_application.html">Mobil alkalmazás dokumentáció</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mobile_application.html#how-the-mobile-application-works">How the mobile application works?</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobile_application.html#mobile-application-settings-on-the-server">Mobile application settings on the server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer_hints.html">Fejleszői információk</a><ul>
<li class="toctree-l2"><a class="reference internal" href="developer_hints.html#openbiomaps-adatlekerdezesi-folyamat">OpenBioMaps adatlekérdezési folyamat</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Gyakran Ismételt Kérdések</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#mi-az-openbiomaps">Mi az OpenBioMaps?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#mi-az-openbiomaps-konzorcium">Mi az OpenBioMaps konzorcium?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-lephetek-kapcsolatba-a-konzorciummal">Hogyan léphetek kapcsolatba a konzorciummal?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-sajat-adatbazist-projektet-kesziteni-alapitani">Hogyan tudok saját adatbázist projektet készíteni/alapítani?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-adatot-feltolteni">Hogyan tudok adatot feltölteni?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-ferhetek-hozza-az-adatokhoz">Hogyan férhetek hozzá az adatokhoz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-regisztralni-egy-openbiomaps-adatbazis-proejektbe">Hogyan tudok regisztrálni egy OpenBioMaps adatbázis proejektbe?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#van-programozhato-felulet-fejlesztoknek">Van programozható felület fejlesztőknek?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#milyen-nyelvek-tamogatottak">Milyen nyelvek támogatottak?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-tudok-hozzajarulni-az-openbiomaps-hoz">Hogyan tudok hozzájárulni az OpenBioMaps-hoz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#kell-fizetni-valamiert">Kell fizetni valamiért?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hol-es-hogyan-tarolja-az-openbiomaps-az-adatokat">Hol és hogyan tárolja az OpenBioMaps az adatokat?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#van-valamilyen-biztonsagi-mentes-megoldas">Van valamilyen biztonsági mentés megoldás?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#elfelejtettem-a-jelszavamat-most-mi-lesz">Elfelejtettem a jelszavamat, most mi lesz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#rozsaszin-negyzetek-vannak-a-terkep-helyen">Rózsaszín négyzetek vannak a térkép helyén</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#mi-az-a-rum">Mi az a RUM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#lehetseges-doi-t-rendelni-az-adatbazisokhoz">Lehetséges DOI-t rendelni az adatbázisokhoz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hol-talalom-meg-az-openbiomaps-szerverek-listajat">Hol találom meg az OpenBioMaps szerverek listáját?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hogyan-mukodik-az-openbiomaps-mobilalkalmazas">Hogyan működik az OpenBioMaps mobilalkalmazás?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#hol-talalhato-meg-az-openbiomaps-r-csomag">Hol található meg az OpenBioMaps R csomag?</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="szerver-beallitasok">
<h1>Szerver beállítások<a class="headerlink" href="#szerver-beallitasok" title="Permalink to this headline">¶</a></h1>
<p>Az OpenBioMaps rendszerbeállításai a system_vars.php.inc fájlban találhatók. Ez a felügyelőn keresztül kezelhető.</p>
<div class="section" id="system-vars">
<h2>system_vars<a class="headerlink" href="#system-vars" title="Permalink to this headline">¶</a></h2>
<p><cite>/etc/openbiomaps/system_vars.php.inc</cite></p>
<div class="highlight-php notranslate"><div class="highlight"><pre><span></span><span class="x">define(&quot;OB_DOMAIN&quot;,&quot;.../biomaps&quot;);</span>

<span class="x">define(&quot;OB_SYSDIR&quot;,&quot;/mnt/data/&quot;);</span>

<span class="x">define(&quot;OB_TMP&quot;,&quot;/mnt/data/tmp/&quot;);</span>

<span class="x">define(&quot;OB_ROOT&quot;,&quot;/var/www/html/biomaps/&quot;);</span>

<span class="x">define(&quot;OB_ROOT_SITE&quot;,&quot;/var/www/html/biomaps/root-site/&quot;);</span>

<span class="x">define(&quot;POSTGRES_PORT&quot;,&quot;5432&quot;);</span>

<span class="x">define(&quot;GISDB_HOST&quot;,&#39;localhost&#39;);     // for creating new project</span>

<span class="x">define(&quot;MAPSERVER_HOST&quot;,&#39;localhost&#39;); // for creating new project</span>

<span class="x">define(&quot;OB_RESOURCES&quot;,&quot;/var/www/html/biomaps/resources/&quot;);</span>

<span class="x">define(&#39;biomapsdb_user&#39;,&#39;...&#39;);</span>

<span class="x">define(&#39;biomapsdb_pass&#39;,&#39;...&#39;);</span>

<span class="x">define(&#39;biomapsdb_name&#39;,&#39;...&#39;);</span>

<span class="x">define(&#39;biomapsdb_host&#39;,&#39;localhost&#39;);</span>

<span class="x">// Postgis version - not necessary to set, it only has historical value</span>
<span class="x">define(&#39;POSTGIS_V&#39;,&#39;2.1&#39;);</span>

<span class="x">// Default sendmail opetion, can be override in project level in local_vars.php.inc</span>
<span class="x">define(&#39;SENDMAIL&#39;,&#39;smtp&#39;); # sendmail | smtp</span>

<span class="x">// memcache tpye - choose this</span>
<span class="x">define(&#39;CACHE&#39;,&#39;memcache&#39;);</span>

<span class="x">// R-Shiny Server ports, for the projects where R shiny server should be enabled</span>
<span class="x">define(&#39;RSERVER_PORT_someproject&#39;,7982);</span>

<span class="x">// Supported languages</span>
<span class="x">define(&#39;LANGUAGES&#39;,&#39;en,hu,ro&#39;);</span>

<span class="x">// bug report system can be activated by put AUTO_BUGREPORT_ADDRESS constant</span>
<span class="x">// ask the issue-key from the gitlab-repo mainteners</span>
<span class="x">define(&#39;AUTO_BUGREPORT_ADDRESS&#39;,&#39;incoming+openbiomaps...&#39;);</span>
</pre></div>
</div>
</div>
<div class="section" id="apache-szerver">
<h2>apache szerver<a class="headerlink" href="#apache-szerver" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>cgi-bin beállítások</p></li>
</ul>
</div>
<div class="section" id="mapserver">
<h2>mapserver<a class="headerlink" href="#mapserver" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>fastcgi beállítások</p></li>
<li><p>mapcache beállítások</p></li>
</ul>
</div>
<div class="section" id="php">
<h2>PHP<a class="headerlink" href="#php" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>memcache beállítások</p></li>
</ul>
</div>
<div class="section" id="cron">
<h2>cron<a class="headerlink" href="#cron" title="Permalink to this headline">¶</a></h2>
<p>Van néhány ajánlott cron feladat beállítás (példák):</p>
<ul>
<li><p>docker frissítés</p>
<p><a class="reference external" href="https://github.com/OpenBioMaps/scripts/tree/master/docker-auto-update">https://github.com/OpenBioMaps/scripts/tree/master/docker-auto-update</a></p>
</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># m h  dom mon dow   command</span>
<span class="m">0</span> <span class="m">4</span>,16 * * * /srv/docker/openbiomaps/auto_update.sh &gt; /srv/docker/openbiomaps/system_update_job.log
</pre></div>
</div>
<ul>
<li><p>archiver</p>
<p>using the <a class="reference external" href="https://github.com/OpenBioMaps/scripts/blob/master/obm_archive.sh">https://github.com/OpenBioMaps/scripts/blob/master/obm_archive.sh</a> script (with .archive_list.txt and obm_archive_settings.sh)</p>
</li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># m h  dom mon dow   command</span>
<span class="m">0</span> <span class="m">2</span> * * *  /path_to/obm_archive.sh normal
<span class="m">15</span> <span class="m">2</span> * * * /path_to/obm_archive.sh system
<span class="m">15</span> <span class="m">3</span> <span class="m">1</span> * * /path_to/obm_archive.sh full
<span class="m">0</span> <span class="m">5</span> * * *  /path_to/obm_archive.sh clean
<span class="c1"># remote servers</span>
<span class="m">0</span> <span class="m">4</span> * * *  /path_to/obm_archive.sh sync remote_user@remote-server.com /remote_path_to_archives

On Docker use the instructions at the end of obm_archive_settings.sh
</pre></div>
</div>
<ul class="simple">
<li><p>Háttérfolyamat futtatás</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># m h  dom mon dow   command</span>
*/5 * * * * /path_to/docker-compose -f /srv/docker/openbiomaps/docker-compose.yml <span class="nb">exec</span> -u www-data -T app php /var/www/html/biomaps/root-site/projects/PROJECTTABLE/jobs.php
</pre></div>
</div>
</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'4.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright OpenBioMaps Konzorcium 2015 - 2021.
        Last updated on Jul 10, 2023.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0+.
        </div>
    </div>  

</body>
</html>