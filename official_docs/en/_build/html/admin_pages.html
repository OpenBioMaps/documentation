
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Administrative pages &#8212; openbiomaps 3.2 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Modules" href="modules.html" />
    <link rel="prev" title="Invitations" href="invitations.html" /> 
  </head><body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='http://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='http://openbiomaps.org' target='_blank'>Home</a> | 
            <a href='http://openbiomaps.org/community/' target='_blank'>Community</a> | 
            <a href='faq.html'>FAQ</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Issues</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Edit documents</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="http://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="http://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="modules.html" title="Modules"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="invitations.html" title="Invitations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">openbiomaps 3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="user_interface.html" accesskey="U">User interfaces</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="administrative-pages">
<span id="project-administration"></span><h1>Administrative pages<a class="headerlink" href="#administrative-pages" title="Permalink to this headline">¶</a></h1>
<div class="section" id="administrative-access">
<h2>Administrative access<a class="headerlink" href="#administrative-access" title="Permalink to this headline">¶</a></h2>
<p>Administrative functions can be delegated to user groups.</p>
</div>
<div class="section" id="database-columns">
<span id="id1"></span><h2>Database columns<a class="headerlink" href="#database-columns" title="Permalink to this headline">¶</a></h2>
<p>Add new columns to a table and manage tables: assign OBM meanings to the columns.</p>
<blockquote>
<div><ul class="simple">
<li>data: general</li>
<li>spatial geometry: this column can be used for map creation</li>
<li>scientific species name: this column can be used in taxon management</li>
<li>alternative names: this column can be used in taxon management</li>
<li>date this column can be used in date filters</li>
<li>no. of individuals: can be used in summary functions</li>
<li>latitude: together with longitude can be used for creating spatial geometry</li>
<li>longitude: together with latitude can be used for creating spatial geometry</li>
<li>citing: used in summary functions</li>
<li>attacment: file attacmnets colum</li>
<li>UTM Zone: used in spatial geometry creation</li>
</ul>
</div></blockquote>
<p>The “comment field” should contain descriptions of the contents of the columns (metadata) and in some cases may have a regulatory role. For the obm_geometry column, you can specify the srid of the geometry column in the comment field, which will determine the stored srid of the uploaded data. The value entered must be in the format <cite>srid: 4326</cite> and stored in biomaps / header_names / f_srid and used by the application in the global variable SRID_C.</p>
<p>In the obm_id column, you can specify whether the rules table should be used like this: use_rules: 1 This can only be changed with master access.</p>
<p>In both cases, the SET prefix is automatically added to the comment field, which must be deleted for the change to take effect. This is so that these parameters cannot be accidentally changed.</p>
</div>
<div class="section" id="groups">
<h2>Groups<a class="headerlink" href="#groups" title="Permalink to this headline">¶</a></h2>
<p>Creating and managing groups. These groups can be used for the management of access and usage control of upload forms, data, modules and administrative functions.
The groups can contains groups.</p>
</div>
<div class="section" id="upload-forms">
<h2>Upload forms<a class="headerlink" href="#upload-forms" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="upload_forms.html"><span class="doc">Upload form management</span></a></p>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<p>Manage optional SQL functions and triggers:</p>
<blockquote>
<div><ul class="simple">
<li>Taxon list auto update: Add ‘scientific name’ and ‘alternative names’ to the taxon table which used by the taxon filter,</li>
<li>Taxon name auto update: updates the data table on taxon table updatin,</li>
<li>History: create history lines in the “history table” after update and delete rows,</li>
<li>Access rules: create a rule line in the “rules table” after inserting new row. The rules applied are from the form settings.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="species-names">
<h2>Species names<a class="headerlink" href="#species-names" title="Permalink to this headline">¶</a></h2>
<p>Taxon table management interface.
Assign species names to the following categories: [accepted name], [synonym name], [common name], [mispelled name]
The species names in the taxon table (species name database) is used by the “taxon-name-repair-background-jobs” and the search interfaces.</p>
</div>
<div class="section" id="access">
<h2>Access<a class="headerlink" href="#access" title="Permalink to this headline">¶</a></h2>
<p>Overview of set access rules and their work statuses.</p>
</div>
<div class="section" id="translations">
<h2>Translations<a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>Global translations: global translations are periodically updated from this github repository:</dt>
<dd><a class="reference external" href="https://github.com/OpenBioMaps/translations">https://github.com/OpenBioMaps/translations</a>
Feel free to improve translations!</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Local translations:</dt>
<dd>Use the ‘<a href="#id2"><span class="problematic" id="id3">str_</span></a>’ prefix, followed by some pretty understandable English expression. Eg: str_observations, the translation of which must be given in the given active language. In this case, observation.</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>When you change the language of a web page, you can set other translations for the same terms.</p>
</div>
<div class="section" id="modules">
<h2>Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="modules.html"><span class="doc">modules</span></a>.</p>
</div>
<div class="section" id="interrupted-uploads">
<h2>Interrupted uploads<a class="headerlink" href="#interrupted-uploads" title="Permalink to this headline">¶</a></h2>
<p>List of interrupted/saved imports of the whole project. Admins can load these imports.</p>
</div>
<div class="section" id="file-manager">
<h2>File manager<a class="headerlink" href="#file-manager" title="Permalink to this headline">¶</a></h2>
<p>List of uploaded attachments. Attachments can be managed here. There is a possibility to export all attachments belonging to a data table into one compressed file using the export functionality. Exporting can take a long time due to it is using a “Background-Job”. When it is ready a link will appear next to the export button to access the produced file.</p>
</div>
<div class="section" id="sql-query-settings">
<h2>SQL query settings<a class="headerlink" href="#sql-query-settings" title="Permalink to this headline">¶</a></h2>
<p>SQL setting for map and text quieries.</p>
<p>The query can contain magic-words. Some magic-word used my modules. The magic-words marked with % characters and replaced by the query creator with something valid SQL string.</p>
<div class="highlight-SQL notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">obm_id</span><span class="p">,</span> <span class="o">%</span><span class="n">grid_geometry</span><span class="o">%</span> <span class="k">AS</span> <span class="n">obm_geometry</span> <span class="o">%</span><span class="n">selected</span><span class="o">%</span>
<span class="k">FROM</span> <span class="o">%</span><span class="n">F</span><span class="o">%</span><span class="n">checkitout</span> <span class="k">c</span><span class="o">%</span><span class="n">F</span><span class="o">%</span>
    <span class="o">%</span><span class="n">uploading_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">rules_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">taxon_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">grid_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">search_join</span><span class="o">%</span>
    <span class="o">%</span><span class="n">morefilter</span><span class="o">%</span>
<span class="k">WHERE</span> <span class="o">%</span><span class="n">geometry_type</span><span class="o">%</span> <span class="o">%</span><span class="n">envelope</span><span class="o">%</span> <span class="o">%</span><span class="n">qstr</span><span class="o">%</span>
</pre></div>
</div>
</div>
<div class="section" id="web-map-layers">
<h2>Web Map Layers<a class="headerlink" href="#web-map-layers" title="Permalink to this headline">¶</a></h2>
<p>OpenLayer settings for web-map interface</p>
</div>
<div class="section" id="members">
<h2>Members<a class="headerlink" href="#members" title="Permalink to this headline">¶</a></h2>
<p>Project member management interface. Here you can see the group memberships of the users as well. The users’ system state [admin, user, banned] can be set here. In addition, you can also access the user’s profile page from here where you can also change the profile (<a class="reference external" href="https://fontawesome.com/v4.7.0/icon/user-secret">https://fontawesome.com/v4.7.0/icon/user-secret</a>).</p>
</div>
<div class="section" id="mapserver-settings">
<h2>Mapserver settings<a class="headerlink" href="#mapserver-settings" title="Permalink to this headline">¶</a></h2>
<p>Raw version of mapfile.  See the mapserver documentation for updating this file.</p>
<p>## Message templates</p>
<p>The messages sent by the system or project must have a template. Global templates are provided for the implemented cases. Please find a list of global templates with short description.</p>
<p>On this page global templates can be overridden by their local version, by selecting
a template -&gt; editing -&gt; and saving it. The templates can have variables which
are substituted with the provided strings, at the moment of sending the message.
For each template these variables are defined in the code.</p>
<p>Variables are marked with %var%. A few global variables are defined, which can
be used anywhere in the template.</p>
<p>Including other templates are supported. For example if you define a footer for
your project, this can be included by appending the &#64;footer&#64; string to the end
of the template.</p>
<p>New templates for custom modules or jobs can also be defined here.</p>
<p>### Global variables</p>
<ul class="simple">
<li><cite>%PROJECT_TABLE%</cite> - the name of the project</li>
<li><cite>%PROJECT_TITLE%</cite> - the short description of the project</li>
<li><cite>%PROJECT_DESCRIPTION%</cite> - the long description of the project</li>
<li><cite>%USER_NAME%</cite> - the name of the user</li>
<li><cite>%URL%</cite></li>
<li><cite>%OB_DOMAIN%</cite></li>
<li><cite>%DOMAIN%</cite> - the domain name defined in the “projects” table</li>
<li><cite>%PROTOCOL%</cite> - the protocol defined in the “projects” table</li>
</ul>
<p>### Predefined templates</p>
<p>User related messages:
* <cite>welcome_to</cite> - welcome to the project
* <cite>change_email_address</cite> - a confirmation link, for changing the user’s email address
* <cite>dropmyaccount</cite> - Confirmation email of dropping the account
* <cite>create_new_project</cite> - confirmation message of creating a new project
* <cite>invitation</cite> - invitation email
* <cite>invitation_accomplished</cite> - notification about the accomplished invitation
* <cite>invitation_request</cite> - message to admins about the invitation request
* <cite>lostpw</cite> - lost password</p>
<p>Miscellaneous:
* <cite>new_gitlab_issue</cite> - a copy of a submitted bug report
* <cite>new_shared_polygon</cite> - Project or system news about a new shared polygon
* <cite>new_upload_news</cite> - Project news about a new upload
* <cite>new_upload_report</cite> - Notification for the admins about a new upload
* <cite>footer</cite> - A general mail footer
* <cite>interconnect_request</cite> -</p>
<p>Evaluation notifications:
* <cite>data_evaluation_commenters</cite> - This message is sent when a record, previously commented by the user, gets a new comment.
* <cite>data_evaluation_owner</cite> - This message is sent to the owner if a record uploaded by him gets a comment.
* <cite>upload_evaluation_commenters</cite> - This message is sent when an upload, previously commented by the user, gets a new comment.
* <cite>upload_evaluation_owner</cite> - This message is sent when an upload of the user gets a comment.
* <cite>user_evaluation_commenters</cite> - This message is sent when a user, previously commented by the user, gets a new comment.
* <cite>user_evaluation_owner</cite> - This message is sent when the user itself get the comment.</p>
<p>Messages sent by modules:
* <cite>dlr_new_request</cite> - Notification for project admins about a new download request. - [‘username’, ‘requestid’, ‘request_message’]
* <cite>dlr_request_registered</cite> - Notification for the user that his download request was registered.
* <cite>incomplete_list_processed</cite> -
* <cite>incomplete_list_unprocessed</cite> -</p>
</div>
<div class="section" id="server-logs">
<h2>Server logs<a class="headerlink" href="#server-logs" title="Permalink to this headline">¶</a></h2>
<p>Read logs of mapserver or web app logger.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Administrative pages</a><ul>
<li><a class="reference internal" href="#administrative-access">Administrative access</a></li>
<li><a class="reference internal" href="#database-columns">Database columns</a></li>
<li><a class="reference internal" href="#groups">Groups</a></li>
<li><a class="reference internal" href="#upload-forms">Upload forms</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
<li><a class="reference internal" href="#species-names">Species names</a></li>
<li><a class="reference internal" href="#access">Access</a></li>
<li><a class="reference internal" href="#translations">Translations</a></li>
<li><a class="reference internal" href="#modules">Modules</a></li>
<li><a class="reference internal" href="#interrupted-uploads">Interrupted uploads</a></li>
<li><a class="reference internal" href="#file-manager">File manager</a></li>
<li><a class="reference internal" href="#sql-query-settings">SQL query settings</a></li>
<li><a class="reference internal" href="#web-map-layers">Web Map Layers</a></li>
<li><a class="reference internal" href="#members">Members</a></li>
<li><a class="reference internal" href="#mapserver-settings">Mapserver settings</a></li>
<li><a class="reference internal" href="#server-logs">Server logs</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="invitations.html"
                        title="previous chapter">Invitations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="modules.html"
                        title="next chapter">Modules</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="modules.html" title="Modules"
             >next</a></li>
        <li class="right" >
          <a href="invitations.html" title="Invitations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">openbiomaps 3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="user_interface.html" >User interfaces</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright OpenBioMaps Consortium 2015 - 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>