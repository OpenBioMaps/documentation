

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Upload form management &mdash; openbiomaps 4.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.min.css" type="text/css" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spatial queries" href="data_query_interface.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 

</head>

<body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='https://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps_small.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='https://openbiomaps.org' target='_blank'>Home</a> | 
            <a href='https://openbiomaps.org/community/' target='_blank'>Community</a> | 
            <a href='faq.html'>FAQ</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Issues</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Edit documents</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="https://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="https://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="index.html">Docs</a></li>
        
          <li><a href="using_web_application.html">Using the web application</a></li>
        
          <li><a href="user_interface.html">User interfaces</a></li>
        
      <li>Upload form management</li>
    
    
      <li class="breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#openbiomaps-overview">OpenBioMaps overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#getting-started">Getting started</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#upload-data">Upload data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#query-data">Query Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#share-data">Share Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#new-project">New project</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#data-access-using-qgis">Data access using QGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html#new-server-installation">New server Installation</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="using_web_application.html">Using the web application</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="user_interface.html">User interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="profile.html">Profile page</a></li>
<li class="toctree-l2"><a class="reference internal" href="upload_data.html">Upload data workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_access.html">Data access</a></li>
<li class="toctree-l2"><a class="reference internal" href="admin_pages.html">Administrative pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="modules.html">Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.html#api-handlers">API handlers:</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#oauth">OAUTH</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#pds">PDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#web-api">WEB API</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#form-data-get-form-data-results-explanations">Form Data (get_form_data results) explanations</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#training-explanations-and-examples">Training explanations and examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#examples">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html#general-api-answers">General API answers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="server_install.html">Install new OBM Server guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#new-obm-server-installation-using-docker">New OBM server installation using Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#common-errors-and-solutions-after-new-installations-or-updates">Common errors and solutions after new installations or updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#server-configuration">Server configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_install.html#local-variables-for-a-project">Local variables for a project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pwa.html">PWA application</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pwa.html#what-is-the-obm-pwa-application">What is the OBM PWA application?</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwa.html#configuration-settings-for-pwa-application">Configuration settings for PWA application</a></li>
<li class="toctree-l2"><a class="reference internal" href="pwa.html#installation">Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mobile_application.html">Mobile application documentation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mobile_application.html#how-the-mobile-application-works">How the mobile application works?</a></li>
<li class="toctree-l2"><a class="reference internal" href="mobile_application.html#mobile-application-settings-on-the-server">Mobile application settings on the server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer_hints.html">Developer hints</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-openbiomaps">What is OpenBioMaps?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-openbiomaps-consortium">What is OpenBioMaps consortium?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-contact-the-consortium">How can I contact the consortium?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-create-found-a-new-database-project">How can I create/found a new database-project?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-upload-data">How can I upload data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-access-data">How can I access data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-sign-up-for-an-openbiomaps-project">How can I sign up for an OpenBioMaps project?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#is-there-a-programmable-interface-for-developers">Is there a programmable interface for developers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-language-support-is-available">What language support is available?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-contribute-to-openbiomaps">How can I contribute to OpenBioMaps?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#shoud-i-pay-for-anything">Shoud I pay for anything?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-and-where-the-openbiomaps-stores-the-data">How and where the OpenBioMaps stores the data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#is-there-any-backup-solution">Is there any backup solution?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#i-lost-my-password-how-can-i-get-a-new">I lost my password, how can I get a new?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#pink-squares-appear-on-the-map-page">Pink squares appear on the map page</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#what-is-the-rum">What is the RUM?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#is-it-possible-to-assign-a-doi-to-databases">Is it possible to assign a DOI to databases?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#where-can-i-find-the-list-of-the-existing-openbiomaps-servers">Where can I find the list of the existing OpenBioMaps servers?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-does-the-openbiomaps-mobile-app-work">How does the OpenBioMaps mobile app work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#where-can-i-found-the-openbiomaps-r-package">Where can I found the OpenBioMaps R package?</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="upload-form-management">
<span id="manage-upload-forms"></span><h1>Upload form management<a class="headerlink" href="#upload-form-management" title="Permalink to this headline">¶</a></h1>
<div class="section" id="list-of-available-forms">
<h2>List of available forms<a class="headerlink" href="#list-of-available-forms" title="Permalink to this headline">¶</a></h2>
<p>Existing forms can be selected for editing or can be deleted or blocked of using.</p>
</div>
<div class="section" id="form-header-definition">
<h2>Form header definition<a class="headerlink" href="#form-header-definition" title="Permalink to this headline">¶</a></h2>
<div class="section" id="destination-table">
<h3>Destination table<a class="headerlink" href="#destination-table" title="Permalink to this headline">¶</a></h3>
<p>Which project table the upload form applies to.</p>
</div>
<div class="section" id="name-of-the-form">
<h3>Name of the form<a class="headerlink" href="#name-of-the-form" title="Permalink to this headline">¶</a></h3>
<p>The name for the upload form. This sholud be unique within a project.</p>
<p>You can make a copy of a form by renaming it.</p>
<p>This name can be multilingual, if you use the ‘’<a href="#id1"><span class="problematic" id="id2">str_</span></a>’’ tag. See more about translations <span class="xref std std-ref">translations</span></p>
</div>
<div class="section" id="form-access">
<h3>Form access<a class="headerlink" href="#form-access" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Define who can see / use the form:</dt><dd><ul class="simple">
<li><p>public (anyone),</p></li>
<li><p>all logged in users,</p></li>
<li><p>only specified groups</p></li>
</ul>
</dd>
</dl>
<p>If “only specified groups” chose,  the list of available users/groups select field will be active, where users or groups can be chosen for accessing this form.</p>
</div>
<div class="section" id="data-access">
<h3>Data access<a class="headerlink" href="#data-access" title="Permalink to this headline">¶</a></h3>
<p>Uploaded data will only be available to the specified groups here. By default, data can be read and edited by the uploader.</p>
</div>
<div class="section" id="form-type">
<h3>Form type<a class="headerlink" href="#form-type" title="Permalink to this headline">¶</a></h3>
<p>Should be at least one from the following three options:</p>
<p>web form, file upload form, API (externally accessible form, e.g. mobile app)</p>
</div>
<div class="section" id="form-description">
<h3>Form description<a class="headerlink" href="#form-description" title="Permalink to this headline">¶</a></h3>
<p>A shorter or longer description of the form. This can be used to give instructions for uploaders.</p>
</div>
<div class="section" id="form-srid">
<h3>Form SRID<a class="headerlink" href="#form-srid" title="Permalink to this headline">¶</a></h3>
<p>Any kind of spatial reference can be coosed for the uploaded which is available in <a class="reference external" href="https://spatialreference.org/">https://spatialreference.org/</a>. The default srid is “epsg:4326 (WGS84)”. If a list of sptial references specified here, uploaders can choose only from these options.
Use the following format for define a list of available references: “4326:wgs84,23700:eov”. It is a comma separated list of epsg reference id and visible labels.</p>
</div>
<div class="section" id="form-groupping">
<h3>Form groupping<a class="headerlink" href="#form-groupping" title="Permalink to this headline">¶</a></h3>
<p>Form can be organized into groups for the form choose interface on the web form. The group names can be defined or choosed here.
This option is not available on the mobile app yet.</p>
</div>
<div class="section" id="form-publish">
<h3>Form publish<a class="headerlink" href="#form-publish" title="Permalink to this headline">¶</a></h3>
<p>A form can be locked by publishing it (orange publish button in the form-header area). Any updates on a published form creates a new version of the form. The old versions are available for API clients (mobile-app). Draft version can be created from the published forms for testing (create draft version button at the bottom of the page). The dtaft version is only available the creator of the draft (by default). The draft version can be publised in the published branch of the form.</p>
</div>
<div class="section" id="observation-list">
<h3>Observation list<a class="headerlink" href="#observation-list" title="Permalink to this headline">¶</a></h3>
<p>A series of observations can be combined, for example, observations of transect counting or observations of time limit counting. A time limit (in minutes) can be set, when reached the mobile application will warn when the time is up, but nothing else happens, the user can continue the observation. A forced observation list means that the form can only be started in list mode, as an individual the user can also start a list observation with the form if this option is enabled.</p>
</div>
<div class="section" id="tracklog">
<h3>Tracklog<a class="headerlink" href="#tracklog" title="Permalink to this headline">¶</a></h3>
<p>Automatic traclog recording while using the form.</p>
</div>
<div class="section" id="periodic-notification">
<h3>Periodic notification<a class="headerlink" href="#periodic-notification" title="Permalink to this headline">¶</a></h3>
<p>At specified intervals (minutes), the app will alert you to record a new observation. Meanwhile, the counter runs continuously. When the user records an observation, the timer will always restart.</p>
</div>
</div>
<div class="section" id="form-column-definitions">
<h2>Form column definitions<a class="headerlink" href="#form-column-definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="included">
<h3>Included<a class="headerlink" href="#included" title="Permalink to this headline">¶</a></h3>
<p>If checked, the column will appear on the form.</p>
</div>
<div class="section" id="column-order">
<h3>Column order<a class="headerlink" href="#column-order" title="Permalink to this headline">¶</a></h3>
<p>It is a small empty input box (by default) next to “included” option.</p>
</div>
<div class="section" id="column">
<h3>Column<a class="headerlink" href="#column" title="Permalink to this headline">¶</a></h3>
<p>There are two strings here: The visible name of the column (it can be edited to make it unique to a form), and the original name of the column.</p>
</div>
<div class="section" id="obligatory">
<h3>Obligatory<a class="headerlink" href="#obligatory" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>Three options are avilable here: yes, no, soft-error</dt><dd><ul class="simple">
<li><p>Yes (colour: burgundy), then the form cannot be submitted without filling in the column cell.</p></li>
<li><p>No (colour: gray), then form can be subbmitted with empty cell in the  rows with this column.</p></li>
<li><p>Soft-error (colour: pink), allows empty cells or difference from restrictions but uploader should confirm this for every affected lines.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="column-description">
<h3>Column description<a class="headerlink" href="#column-description" title="Permalink to this headline">¶</a></h3>
<p>Short description of the field.</p>
</div>
<div class="section" id="column-type">
<h3>Column type<a class="headerlink" href="#column-type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><blockquote>
<div><ul>
<li><p>text: arbitrary text - minimum and maximum lengths can be specified.</p></li>
<li><p>numeric: arbitrary number - minimum and maximum lengths can be specified</p></li>
<li><dl>
<dt>list: drop-down list of values separated by the comma you specify. The drop-down list can be specified in name:value format, with the elements and real values of the drop-down list being filled out. The “name”, if prefixed with “str_”, will automatically translate to the selected language version, if defined. The words ‘true’ and ‘false’ are translated according to str_true and str_false.</dt><dd><p>Multiple labels can be specified for a value, the first of which will be displayed in a web form case, and any label or value from the file cell value will give a correct match in a file upload. Tags must be specified with # characters between them. E.g.: female#boy:f,male#male#him:m,juvenile#juvenile:j,adult#old:a</p>
<p>In this case, the possible labels for the “f” value are the words “female”, “tojo” and “egg”</p>
</dd>
</dl>
</li>
<li><p>true-false: boolen false/true value. The order of the value can be controlled in the list definition field. e.g. “false,true”</p></li>
<li><p>date: Separated by any character in order of year month day. Stored in database as date type.</p></li>
<li><p>date and time: after a blank frame, the date is in hour:minute:second format. If a second is missing, the program automatically considers it as 00, but warns you to accept it. If the minute is missing, the program will automatically treat it as 00 but warn to accept it. Stored in database as datetime type.</p></li>
<li><p>time: (timetominutes): hours:minutes format which the program converts to an integer value. Stored in database as integer.</p></li>
<li><p>time: hours:minutes. As time type in the database.</p></li>
<li><p>time interval: (timeinterval) Pl: 2014-02-25 12:00:00 2014-02-25 13:00:00. Stored in database as timeinterval type.</p></li>
<li><p>autocomplete: generates an autocomplete list from the sql table column specified in the list_definition field. The syntax is table_name.column. The table is searched (by default) in the public schema in the gisdata database.</p></li>
<li><p>autocompletelist: Similar to the autocomplete field, just here it is possible autocompleting multiple values into a single field</p></li>
</ul>
</div></blockquote>
<ul class="simple">
<li><p>photo id: if the photo module is enabled, the program enters the uploaded photo IDs here.</p></li>
<li><p>geometria: point: WKT POINT()</p></li>
<li><p>geometria: line: WKT LINE()</p></li>
<li><p>geometria: polygon: WKT POLYGON()</p></li>
<li><p>geometria: any: WKT</p></li>
</ul>
<p>See different geometry types in action: <a class="reference external" href="https://openbiomaps.org/projects/checkitout/upload/?form=736&amp;type=web">https://openbiomaps.org/projects/checkitout/upload/?form=736&amp;type=web</a></p>
<ul class="simple">
<li><dl class="simple">
<dt>colour rings: allows you to specify a colour ring combination, where you can create red, pink, green, light green, orange, yellow, blue, light blue, white, black, brown, purple, violet and metal ring combinations. The section in square brackets codes the maximum number of rings that can be specified on the different leg sections, followed by the individual colour codes of the possible colours. Eg: [XX],Blue:B, red:R, green:G</dt><dd><dl class="simple">
<dt>Allowed colours and markings:</dt><dd><p>R = ‘red’
P = ‘pink’
G = ‘green’
g = ‘lightgreen’
O = ‘orange’
Y = ‘yellow’
B = ‘blue’
b = ‘lightblue’
W = ‘white’
K = ‘black’
N = ‘brown’
U = ‘purple’
V = ‘violet’
M = ‘silver’</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
<p>See in action: <a class="reference external" href="https://openbiomaps.org/projects/checkitout/upload/?form=939&amp;type=web">https://openbiomaps.org/projects/checkitout/upload/?form=939&amp;type=web</a></p>
</div></blockquote>
</div>
<div class="section" id="input-control">
<h3>Input control<a class="headerlink" href="#input-control" title="Permalink to this headline">¶</a></h3>
<dl class="simple">
<dt>checks the number of characters entered</dt><dd><ul class="simple">
<li><p>no check</p></li>
<li><p>min - max</p></li>
<li><p>regular expression</p></li>
<li><p>spatial</p></li>
<li><p>custom check</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="list-definition">
<h3>List definition<a class="headerlink" href="#list-definition" title="Permalink to this headline">¶</a></h3>
<p>First of all, if you wish to use list during data upload you have to change the “Type” to list, autocomplete or autocomplete list.</p>
<p>You can define here several list, eg.: simple/multiple choice or autocomplete lists. You can define the list with specification of elements or you can use elements from a other datatables also you can define rules and terms to filter those elements.</p>
<p>If our list have only a couple of elements, we can create a simple specification. See below - in this case we define our list values what we can chooose from a roll-down menu during data upload. These values (“female”, “male”) will get into your database.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;female&quot;</span><span class="p">:[],</span>
    <span class="nt">&quot;male&quot;</span><span class="p">:[]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If more labels mean the same value (eg.: “F”, “f”, “female” mean “female”), we can define which labels belong to which value. During data upload only the value will get into your database not the different labels. This became remarkable during file upload, when you have many data from previous years from many observer. They possibly used different labels to the same value, but using different labels to the same values are non-rewarding either during query or analysing your data.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;female&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;F&quot;</span><span class="p">,</span>
            <span class="s2">&quot;f&quot;</span><span class="p">,</span>
            <span class="s2">&quot;female&quot;</span><span class="p">],</span>
    <span class="nt">&quot;male&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;M&quot;</span><span class="p">,</span>
            <span class="s2">&quot;m&quot;</span><span class="p">,</span>
            <span class="s2">&quot;male&quot;</span><span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also we can create our list based on another table variable.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;val1&quot;</span><span class="p">:</span> <span class="p">[</span>
          <span class="s2">&quot;label1&quot;</span><span class="p">,</span> <span class="s2">&quot;label2&quot;</span>
      <span class="p">]</span>
    <span class="p">},</span>
    <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;e.g. public&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;table name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;a column from the table&quot;</span><span class="p">,</span>
    <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;a column from the table - optional&quot;</span><span class="p">,</span>
    <span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;pictures&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;an element from the `list`, e.g. val1&quot;</span><span class="p">:</span> <span class="s2">&quot;url-string&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">],</span>
    <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="nt">&quot;disabled&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;an element from the `list`, e.g. val1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;preFilterColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;preFilterValue&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;preFilterRelation&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;multiselect&quot;</span><span class="p">:</span> <span class="s2">&quot;true or false, default is false&quot;</span><span class="p">,</span>
    <span class="nt">&quot;selected&quot;</span><span class="p">:[</span>
        <span class="s2">&quot;an element from the `list`, e.g. val1&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;a numeric value&quot;</span>
    <span class="s2">&quot;orderBy&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;column or SQL expression&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;ASC or DESC&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;limit&quot;</span><span class="p">:</span> <span class="s2">&quot;numeric value&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Example of pre filtering:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;milvus_taxon&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;word&quot;</span><span class="p">,</span>
    <span class="nt">&quot;preFilterColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;lang&quot;</span><span class="p">,</span>
        <span class="s2">&quot;status&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;preFilterValue&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;obm_taxon&quot;</span><span class="p">,</span>
        <span class="p">[</span>
            <span class="s2">&quot;accepted&quot;</span><span class="p">,</span>
            <span class="s2">&quot;undefined&quot;</span>
        <span class="p">]</span>
    <span class="p">],</span>
    <span class="nt">&quot;orderBy&quot;</span><span class="p">:</span> <span class="s2">&quot;taxon_db&quot;</span><span class="p">,</span>
    <span class="nt">&quot;order&quot;</span><span class="p">:</span> <span class="s2">&quot;desc&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="joint-lists">
<h3>Joint lists<a class="headerlink" href="#joint-lists" title="Permalink to this headline">¶</a></h3>
<p>Create a list in a column (starter column), which determines the list of your choosed column (“list in the list”). First of all you have to create a background table (animal_taxons), which contain data about which groups include which groups. For example, this table can show which genre belong to which family and/or which families belong to which order, like vertebrates (animal_supergoup) contain amphibian, reptile, bird, mammal (animal_group_name) and invertebrates include (animal_supergroup) cnidaria, insects (animal_group_name) etz…</p>
<p>You can add your code of “joint list” in the “list definition” field. The first part of the code determine that which column will affected by the “starter column” (you have to type it in the json field of the starter column):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;affected_list_name&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_taxons&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;labelAsValue&quot;</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt>Code explanation:</dt><dd><p>“Function” - always “select_list”
“optionsSchema” - always “shared”
“optionsTable” - “background_table_name”
“valueColumn” - column from the background table, what you use for the list, where the code is in (starter_column)
“labelColumn” - create the list in the affected column based on strater column</p>
</dd>
</dl>
<p>The next step to determine in our affected column, from which column it should take the values out (you have to type it in the json field of the affected column):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_taxons&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_supergroup&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt>Code explanation (only the new variables explained here):</dt><dd><p>“filterColumn” - determine which was the starer column</p>
</dd>
</dl>
<p>With the “joint list” option you can connect more than 2 columns also.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_taxons&quot;</span><span class="p">,</span>
    <span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_supergroup&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
    <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;species&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>“triggerTargetColumn” all the time trigger the next column. “filterColumn” always mark to the previous column. “valueColumn” and the “labelColumn” always mark the actual column.</p>
<p>Other examples:
1. Determine buildings inside the settlement. We collect data from species breeding in artificial nestboxes. We would like to create an autocomplete list for the settlement column, also we would like to create a simple list in the building column. Our background table (tytoalba_buildings) contain the nestboxes spatial distribution: on which buildings in which settlement. The building column of out background table contains huge amount of possible values, but not the all building occur in all settlement. Therefore we would like to create a filtered building list based on the settlement list.</p>
<p>FIRST STEP: we establish the autocomplete list of settlement column. We turn the column type to autocomplete, than we determine which values are we need from our background table and also we point to the building column:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;building&quot;</span>
    <span class="p">],</span>
    <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;public&quot;</span><span class="p">,</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;tytoalba_buildings&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;settlement&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Second step: we establish the simple list of building column. We turn the column type to list, than we determine the value of our list and filter based on settlement column:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;tytoalba_buildings&quot;</span><span class="p">,</span>
    <span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;settlement&quot;</span><span class="p">,</span>
    <span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
    <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;building&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="default-values">
<h3>Default values<a class="headerlink" href="#default-values" title="Permalink to this headline">¶</a></h3>
<dl>
<dt>You can predefine a value for a field. There are several dynamic predefined values:</dt><dd><ul class="simple">
<li><p>_autocomplete</p></li>
<li><p>_input</p></li>
<li><p>_list</p></li>
<li><p>_geometry</p></li>
<li><p>_login_name</p></li>
<li><p>_email</p></li>
<li><p>_boolean</p></li>
<li><p>_attacment</p></li>
<li><p>_datum</p></li>
<li><p>_auto_geometry</p></li>
</ul>
<p>If you want an empty input field, you have to specify _input, if you want a selection list, you have to specify _list (it fills the list with the elements of the definition), if you want a geometry selection, you have to specify _geometry, and _datum results in a date selection field.</p>
<p>See in action: <a class="reference external" href="https://openbiomaps.org/projects/checkitout/upload/?form=421&amp;type=web">https://openbiomaps.org/projects/checkitout/upload/?form=421&amp;type=web</a></p>
</dd>
</dl>
</div>
<div class="section" id="field-display-options">
<h3>Field display options<a class="headerlink" href="#field-display-options" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>sticky</dt><dd><p>This has real significance in the mobile application. If this option is selected, the field will retain its value when new rows start.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>hidden</dt><dd><p>Field not displayed.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>read only</dt><dd><p>Field value cannot be modified.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>once</dt><dd><p>Field displayed only once in observation-list in mobile app at the end of observation
(This option will used in the web form to pull out a field from the table over the table. Currenty, using the default value option do this for the web form)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>list element as buttons</dt><dd><dl class="simple">
<dt>List element will be diplayed as buttons. Pictures can be used in the buttons.</dt><dd><p>Pictures should be defined in for all list elements in the list definition like in this example:
If the list has the following values: animals, plants, mushrooms, bats</p>
</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;pictures&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;animals&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;plants&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;mushrooms&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bats&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="column-relations">
<h3>Column relations<a class="headerlink" href="#column-relations" title="Permalink to this headline">¶</a></h3>
<p>You can specify how to check or modify the value entered from the table for a value in another column. e.g.: for weight column, if the sex column is female, the values can take min 20 and max 30 numeric values (sex=female) {minmax(20:30)}</p>
<p>Check the contents of columns depending on the contents of other columns</p>
<p>See in action: <a class="reference external" href="https://openbiomaps.org/projects/checkitout/upload/?form=938&amp;type=web">https://openbiomaps.org/projects/checkitout/upload/?form=938&amp;type=web</a></p>
</div>
<div class="section" id="pseudo-columns">
<h3>Pseudo columns<a class="headerlink" href="#pseudo-columns" title="Permalink to this headline">¶</a></h3>
<p>Columns from other upload-forms can be added here with the following format: form-name:column1,column2,columnN
The listed column will be appear after this column. The data entered in the pseudo-columns will be uploaded using the the other form’s definition. Using this feature let uploaders to upload data into two tables at once.</p>
</div>
</div>
<div class="section" id="relations-pseudolanguage-definition">
<h2>Relations pseudolanguage definition<a class="headerlink" href="#relations-pseudolanguage-definition" title="Permalink to this headline">¶</a></h2>
<p>( rel_field = rel_statement ) { rel_type = rel_value } , ( rel_field = rel_statement ) { rel_type = rel_value } , …</p>
<p>IF an other cell value (rel_field) match to (rel_statement) THEN  this cell (rel_type) value should be (rel_value)</p>
<p>rel_type is a function related with the field type</p>
<blockquote>
<div><p>datum:          year            extraxt year component from a datum string</p>
<p>text,numeric:   minmax          minmax range check</p>
<dl class="simple">
<dt>any type:       obligatory      change obligatory setting</dt><dd><p>inequality      check inequality with these symbols: &lt;&gt;= between index and current field. Causing error message.</p>
</dd>
</dl>
</div></blockquote>
<p>rel_statement can be a regexp based function. In this case statement should be started with !! and followed by a regexp expression e.g.  !!^(d{2})$</p>
<blockquote>
<div><p>If statement is regexp rel_value also can be a function</p>
<p>.       means replace current cell value with matched string from the matched string from the rel_field</p>
<p>.+      means append current cell value to matched string from the rel_field</p>
<p>+.      means append matched string from the rel_field to the current cell value</p>
</div></blockquote>
<p>rel_value:</p>
<blockquote>
<div><p>IF rel_type is inequality according to php comparison operators</p>
<blockquote>
<div><p>+&lt;.</p>
<p>+&lt;=.</p>
<p>+&gt;=.</p>
<p>+=.</p>
<p>+&lt;&gt;.</p>
<p>WHERE + is the matched rel_field value and . is the current cell value</p>
</div></blockquote>
<p>Else can be anything - may be ignored - depending on the used function</p>
</div></blockquote>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>On the <cite>tarsus_length</cite> column</p>
<blockquote>
<div><p>(clutch_size=!!^([123])$) {obligatory(1)}</p>
</div></blockquote>
<p>Which means it will be mandatory to fill the tarsus length if the nest size is 1, 2 or 3</p>
<p>On the <cite>end_date</cite> column. If the <cite>found_date</cite> field not empty, check, the <cite>end_date</cite> is grater than the <cite>found_date</cite>. If yes, returning TRUE else FALSE, which causing upload error.</p>
<blockquote>
<div><p>(found_date=!!^(.+)$) {inequality(+&gt;=.)}</p>
</div></blockquote>
<p>On a date field which not contains year part. If the <cite>year</cite> column is not empty, then the <cite>date</cite> field will be updated with this year (numbers)</p>
<blockquote>
<div><p>(year=!!^(d{4})$) {set(.)}</p>
</div></blockquote>
<p>On the <cite>ring_number</cite> field. If the recapture’s values is “1” then the <cite>ring_number</cite> will be obligatory.</p>
<blockquote>
<div><p>(recapture=1) {obligatory(1)}</p>
</div></blockquote>
<p>On the <cite>english_name</cite> column. If the <cite>scientific_name</cite> is empty then the english_name will be obligatory.</p>
<blockquote>
<div><p>(scientific_name=!!(^$)) {obligatory(1)}</p>
</div></blockquote>
<p>On the <cite>amount_type</cite> field. If the <cite>number_of_individuals</cite> grater than 50 then the <cite>amount_type</cite> will be “estimated value”, else if less or equal than 50, then “exact value”.</p>
<blockquote>
<div><p>(number_of_individuals&gt;50) {set(estimated value)},(egyedszam&lt;=50) {set(exact value)}</p>
</div></blockquote>
</div>
</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'4.2',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright OpenBioMaps Consortium 2015 - 2020.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.0+.
        </div>
    </div>  

</body>
</html>