
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Upload form management &#8212; openbiomaps 3.2 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Spatial queries" href="data_query_interface.html" />
    <link rel="prev" title="Modules" href="modules.html" /> 
  </head><body>
    <table style='background-color:#eeeeee;padding:10px;margin:0;width:100%'>
    <tr>
        <td rowspan='2' style='vertical-align:bottom'>
            <a href='http://openbiomaps.org' style='border:0'><img src="_images/OpenBioMaps.png"></a>
        </td>
        <td style='vertical-align:top;text-align:right'>
            <a href='http://openbiomaps.org' target='_blank'>Home</a> | 
            <a href='http://openbiomaps.org/community/' target='_blank'>Community</a> | 
            <a href='faq.html'>FAQ</a> | 
            <a href='https://gitlab.com/groups/openbiomaps/-/issues'>Issues</a> | 
            <a href='https://twitter.com/OpenBioMaps' target='_blank'>Twitter</a> | 
            <a href="https://github.com/OpenBioMaps/documentation/tree/master/official_docs" class="fa fa-github">Edit documents</a>
        </td>
    </tr>
    <tr>
         <td style="padding: 0px 10px 0px 0px; text-align: right; vertical-align: bottom;">
          <a href="http://openbiomaps.org/documents/en/"><img src="_static/flagicons/en.png" alt="en" title="in English" border="0" /></a>
          <a href="http://openbiomaps.org/documents/hu/"><img src="_static/flagicons/hu.png" alt="hu" title="Magyarul" border="0" /></a>
         </td>
    </tr>
    </table>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="data_query_interface.html" title="Spatial queries"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">openbiomaps 3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="user_interface.html" accesskey="U">User interfaces</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="upload-form-management">
<span id="manage-upload-forms"></span><h1>Upload form management<a class="headerlink" href="#upload-form-management" title="Permalink to this headline">¶</a></h1>
<div class="section" id="list-of-available-forms">
<h2>List of available forms<a class="headerlink" href="#list-of-available-forms" title="Permalink to this headline">¶</a></h2>
<p>Existing forms can be selected for editing or can be deleted or blocked of using.</p>
</div>
<div class="section" id="form-header-definition">
<h2>Form header definition<a class="headerlink" href="#form-header-definition" title="Permalink to this headline">¶</a></h2>
<div class="section" id="destination-table">
<h3>Destination table<a class="headerlink" href="#destination-table" title="Permalink to this headline">¶</a></h3>
<p>Which project table the upload form applies to.</p>
</div>
<div class="section" id="name-of-the-form">
<h3>Name of the form<a class="headerlink" href="#name-of-the-form" title="Permalink to this headline">¶</a></h3>
<p>The name for the upload form. This sholud be unique within a project.</p>
<p>You can make a copy of a form by renaming it.</p>
<p>This name can be multilingual, if you use the ‘’<a href="#id1"><span class="problematic" id="id2">str_</span></a>’’ tag. See more about translations <span class="xref std std-ref">translations</span></p>
</div>
<div class="section" id="form-access">
<h3>Form access<a class="headerlink" href="#form-access" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Define who can see / use the form:</dt>
<dd><ul class="first last simple">
<li>public (anyone),</li>
<li>all logged in users,</li>
<li>only specified groups</li>
</ul>
</dd>
</dl>
<p>If “only specified groups” chose,  the list of available users/groups select field will be active, where users or groups can be chosen for accessing this form.</p>
</div>
<div class="section" id="data-access">
<h3>Data access<a class="headerlink" href="#data-access" title="Permalink to this headline">¶</a></h3>
<p>Uploaded data will only be available to the specified groups here. By default, data can be read and edited by the uploader.</p>
</div>
<div class="section" id="form-type">
<h3>Form type<a class="headerlink" href="#form-type" title="Permalink to this headline">¶</a></h3>
<p>Should be at least one from the following three options:</p>
<p>web form, file upload form, API (externally accessible form, e.g. mobile app)</p>
</div>
<div class="section" id="form-description">
<h3>Form description<a class="headerlink" href="#form-description" title="Permalink to this headline">¶</a></h3>
<p>A shorter or longer description of the form. This can be used to give instructions for uploaders.</p>
</div>
<div class="section" id="form-srid">
<h3>Form SRID<a class="headerlink" href="#form-srid" title="Permalink to this headline">¶</a></h3>
<p>Any kind of spatial reference can be coosed for the uploaded which is available in <a class="reference external" href="https://spatialreference.org/">https://spatialreference.org/</a>. The default srid is “epsg:4326 (WGS84)”. If a list of sptial references specified here, uploaders can choose only from these options.
Use the following format for define a list of available references: “4326:wgs84,23700:eov”. It is a comma separated list of epsg reference id and visible labels.</p>
</div>
<div class="section" id="form-groupping">
<h3>Form groupping<a class="headerlink" href="#form-groupping" title="Permalink to this headline">¶</a></h3>
<p>Form can be organized into groups for the form choose interface on the web form. The group names can be defined or choosed here.
This option is not available on the mobile app yet.</p>
</div>
<div class="section" id="form-publish">
<h3>Form publish<a class="headerlink" href="#form-publish" title="Permalink to this headline">¶</a></h3>
<p>A form can be locked by publishing it (orange publish button in the form-header area). Any updates on a published form creates a new version of the form. The old versions are available for API clients (mobile-app). Draft version can be created from the published forms for testing (create draft version button at the bottom of the page). The dtaft version is only available the creator of the draft (by default). The draft version can be publised in the published branch of the form.</p>
</div>
</div>
<div class="section" id="form-column-definitions">
<h2>Form column definitions<a class="headerlink" href="#form-column-definitions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="included">
<h3>Included<a class="headerlink" href="#included" title="Permalink to this headline">¶</a></h3>
<p>If checked, the column will appear on the form.</p>
</div>
<div class="section" id="column-order">
<h3>Column order<a class="headerlink" href="#column-order" title="Permalink to this headline">¶</a></h3>
<p>It is a small empty input box (by default) next to “included” option.</p>
</div>
<div class="section" id="column">
<h3>Column<a class="headerlink" href="#column" title="Permalink to this headline">¶</a></h3>
<p>There are two strings here: The visible name of the column (it can be edited to make it unique to a form), and the original name of the column.</p>
</div>
<div class="section" id="obligatory">
<h3>Obligatory<a class="headerlink" href="#obligatory" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>Three options are avilable here: yes, no, soft-error</dt>
<dd><ul class="first last simple">
<li>Yes (colour: burgundy), then the form cannot be submitted without filling in the column cell.</li>
<li>No (colour: gray), then form can be subbmitted with empty cell in the  rows with this column.</li>
<li>Soft-error (colour: pink), allows empty cells or difference from restrictions but uploader should confirm this for every affected lines.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="column-description">
<h3>Column description<a class="headerlink" href="#column-description" title="Permalink to this headline">¶</a></h3>
<p>Short description of the field.</p>
</div>
<div class="section" id="column-type">
<h3>Column type<a class="headerlink" href="#column-type" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><blockquote>
<div><ul>
<li><p class="first">text: arbitrary text - minimum and maximum lengths can be specified.</p>
</li>
<li><p class="first">numeric: arbitrary number - minimum and maximum lengths can be specified</p>
</li>
<li><dl class="first docutils">
<dt>list: legördülő lista a megadott vesszővel elválasztott értékekből. A legördülő lista kiírt elemei és valós értékei név:érték formátumban megadhatók. A “név” amennyiben “str_” előtaggal kezdődik, akkor automatikusan lefordul a kiválasztott nyelvi változatra, ha az definiálva van. A “true” és “false” szavak str_true és str_false fordítás szerint fordulnak le.</dt>
<dd><p class="first">Megadható több címke egy értékhez amikből webes űrlapesetén az első jelenik meg, file feltöltésnél pedig a fájl cella értékéből bármelyik cimke vagy az érték helyes egyezést ad. A cimkéket # karakterekkel tagolva kell megadni. Pl: female#tojó:f,male#hím#him:m,juvenil#fiatal:j,adult#öreg:a</p>
<p class="last">Ez esetben az “f” érték lehetséges cimkéi a “female”, “tojo” és “tojó” szavak</p>
</dd>
</dl>
</li>
<li><p class="first">true-false: boolen false/true value. Az érték sorrendje a lista definíciós mezőben szabályozható. pl: “false,true”</p>
</li>
<li><p class="first">date: tetszőleges karakterrel elválasztva év hónap nap sorrendben. Adatbázisban date típusként tárolva.</p>
</li>
<li><p class="first">date and time: üres karektert követően a dátum után óra:perc:másodperc formátumban. Ha hiányzik a másodperc a program automatikusan 00-nak tekinti, de figyelmeztet az elfogadására. Ha hiányzik a perc a program automatikusan 00-nak tekinti, de figyelmeztet az elfogadására. Adatbázisban datetime típusként tárolva.</p>
</li>
<li><p class="first">time: (timetominutes): hours:minutes formátum amit a program egész szám értékké számol át. Adatbázisban egész számként tárolva.</p>
</li>
<li><p class="first">time: hours:minutes. As time type in the database.</p>
</li>
<li><p class="first">time interval: (timeinterval) Pl: 2014-02-25 12:00:00 2014-02-25 13:00:00. Adatbázisban timeinterval típusként tárolva.</p>
</li>
<li><p class="first">autocomplete: a lista_definíció mezőben megadott sql tábla oszlopából autocomplete listát készít. A szintaxis táblanév.oszlop. A táblát a public sémában keresi a program a gisdata adatbázisban.</p>
</li>
<li><p class="first">autocompletelist: Similar to the autocomplete field, just here it is possible autocompleting multiple values into a single field</p>
</li>
</ul>
</div></blockquote>
<ul class="simple">
<li>photo id: fotó modul bekapcsolása esetén ide írja be a feltöltött fotó azonosítókat a program.</li>
<li>geometria: point: WKT POINT()</li>
<li>geometria: line: WKT LINE()</li>
<li>geometria: polygon: WKT POLYGON()</li>
<li>geometria: any: WKT</li>
<li><dl class="first docutils">
<dt>colour rings: színesgyűrű kombináció megadására ad lehetőséget, ahol piros, rózsaszín, zöld, világos zöld, narancs, sárga, kék, világos kék, fehér, fekete, barna, lila, ibolya és fémgyűrű kombinációkat lehet létrehozni. A szögletes zárójelben levő rész a különböző láb-részeken megadandó maximális gyűrűk számát kódolja, az ezt követő rész a lehetséges színek egyénileg megadott cimkéi. Pl: [XX],Blue:B, red:R, green:G</dt>
<dd><dl class="first last docutils">
<dt>Megengedett színek és jelölések:</dt>
<dd>R = ‘red’
P = ‘pink’
G = ‘green’
g = ‘lightgreen’
O = ‘orange’
Y = ‘yellow’
B = ‘blue’
b = ‘lightblue’
W = ‘white’
K = ‘black’
N = ‘brown’
U = ‘purple’
V = ‘violet’
M = ‘silver’</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="input-control">
<h3>Input control<a class="headerlink" href="#input-control" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>checks the number of characters entered</dt>
<dd><ul class="first last simple">
<li>no check</li>
<li>min - max</li>
<li>regular expression</li>
<li>spatial</li>
<li>custom check</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="list-definition">
<h3>List definition<a class="headerlink" href="#list-definition" title="Permalink to this headline">¶</a></h3>
<p>First of all, if you wish to use list during data upload you have to change the “Type” to list, autocomplete or autocomplete list.</p>
<p>You can define here several list, eg.: simple/multiple choice or autocomplete lists. You can define the list with specification of elements or you can use elements from a other datatables also you can define rules and terms to filter those elements.</p>
<p>If our list have only a couple of elements, we can create a simple specification. See below - in this case we define our list values what we can chooose from a roll-down menu during data upload. These values (“female”, “male”) will get into your database.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;female&quot;</span><span class="p">:[],</span>
    <span class="nt">&quot;male&quot;</span><span class="p">:[]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If more labels mean the same value (eg.: “F”, “f”, “female” mean “female”), we can define which labels belong to which value. During data upload only the value will get into your database not the different labels. This became remarkable during file upload, when you have many data from previous years from many observer. They possibly used different labels to the same value, but using different labels to the same values are non-rewarding either during query or analysing your data.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;list&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;female&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;F&quot;</span><span class="p">,</span>
            <span class="s2">&quot;f&quot;</span><span class="p">,</span>
            <span class="s2">&quot;female&quot;</span><span class="p">],</span>
    <span class="nt">&quot;male&quot;</span><span class="p">:[</span>
            <span class="s2">&quot;M&quot;</span><span class="p">,</span>
            <span class="s2">&quot;m&quot;</span><span class="p">,</span>
            <span class="s2">&quot;male&quot;</span><span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Also we can create our list based on another table variable.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span>{
  &quot;list&quot;: {
        &quot;val1&quot;: [&quot;label1&quot;, &quot;label2&quot;]
  },
  &quot;optionsSchema&quot;: &quot;&quot;,
  &quot;optionsTable&quot;: &quot;&quot;,
  &quot;valueColumn&quot;: &quot;&quot;,
  &quot;labelColumn&quot;: &quot;&quot;,
  &quot;filterColumn&quot;: &quot;&quot;,
  &quot;pictures&quot;: {
        &quot;val1&quot;: &quot;url-string&quot;
  },
  &quot;triggerTargetColumn&quot;: [
    &quot;&quot;
  ],
  &quot;Function&quot;: &quot;&quot;,
  &quot;disabled&quot;: [&quot;val1&quot;],
  &quot;preFilterColumn&quot;: [
    &quot;&quot;
  ],
  &quot;preFilterValue&quot;: [
    &quot;&quot;
  ],
  &quot;preFilterRelation&quot;: [
    &quot;&quot;
  ]
  &quot;multiselect&quot;:&quot;true or false, default is false&quot;,
  &quot;selected&quot;:[&quot;val1&quot;],
  &quot;size&quot;: numeric value
  &quot;orderBy&quot;: [
    &quot;column or SQL expression&quot;
  ],
  &quot;order&quot;: [
    &quot;ASC OR DESC&quot;
  ],
  &quot;limit&quot;: numeric value
}
</pre></div>
</div>
</div>
<div class="section" id="joint-lists">
<h3>Joint lists<a class="headerlink" href="#joint-lists" title="Permalink to this headline">¶</a></h3>
<p>Create a list in a column (starter column), which determines the list of your choosed column (“list in the list”). First of all you have to create a background table (animal_taxons), which contain data about which groups include which groups. For example, this table can show which genre belong to which family and/or which families belong to which order, like vertebrates (animal_supergoup) contain amphibian, reptile, bird, mammal (animal_group_name) and invertebrates include (animal_supergroup) cnidaria, insects (animal_group_name) etz…</p>
<p>You can add your code of “joint list” in the “list definition” field. The first part of the code determine that which column will affected by the “starter column” (you have to type it in the json field of the starter column):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span> <span class="p">{</span>
 <span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
     <span class="s2">&quot;affected_list_name&quot;</span>
 <span class="p">],</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
 <span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span><span class="p">,</span>
 <span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_taxons&quot;</span><span class="p">,</span>
 <span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
 <span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
 <span class="nt">&quot;labelAsValue&quot;</span><span class="p">:</span> <span class="kc">true</span>
 <span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Code explanation:</dt>
<dd>“Function” - always “select_list”
“optionsSchema” - always “shared”
“optionsTable” - “background_table_name”
“valueColumn” - column from the background table, what you use for the list, where the code is in (starter_column)
“labelColumn” - create the list in the affected column based on strater column</dd>
</dl>
<p>The next step to determine in our affected column, from which column it should take the values out (you have to type it in the json field of the affected column):</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_taxons&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
<span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
<span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_supergroup&quot;</span><span class="p">,</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Code explanation (only the new variables explained here):</dt>
<dd>“filterColumn” - determine which was the starer column</dd>
</dl>
<p>With the “joint list” option you can connect more than 2 columns also.</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;shared&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_taxons&quot;</span><span class="p">,</span>
<span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_supergroup&quot;</span><span class="p">,</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span><span class="p">,</span>
<span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&quot;species&quot;</span>
<span class="p">],</span>
<span class="nt">&quot;labelColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;animal_group_name&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>“triggerTargetColumn” all the time trigger the next column. “filterColumn” always mark to the previous column. “valueColumn” and the “labelColumn” always mark the actual column.</p>
<p>Other examples:
1. Determine buildings inside the settlement. We collect data from species breeding in artificial nestboxes. We would like to create an autocomplete list for the settlement column, also we would like to create a simple list in the building column. Our background table (tytoalba_buildings) contain the nestboxes spatial distribution: on which buildings in which settlement. The building column of out background table contains huge amount of possible values, but not the all building occur in all settlement. Therefore we would like to create a filtered building list based on the settlement list.</p>
<p>FIRST STEP: we establish the autocomplete list of settlement column. We turn the column type to autocomplete, than we determine which values are we need from our background table and also we point to the building column:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;triggerTargetColumn&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;building&quot;</span>
<span class="p">],</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsSchema&quot;</span><span class="p">:</span> <span class="s2">&quot;public&quot;</span><span class="p">,</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;tytoalba_buildings&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;settlement&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Second step: we establish the simple list of building column. We turn the column type to list, than we determine the value of our list and filter based on settlement column:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;optionsTable&quot;</span><span class="p">:</span> <span class="s2">&quot;tytoalba_buildings&quot;</span><span class="p">,</span>
<span class="nt">&quot;filterColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;settlement&quot;</span><span class="p">,</span>
<span class="nt">&quot;Function&quot;</span><span class="p">:</span> <span class="s2">&quot;select_list&quot;</span><span class="p">,</span>
<span class="nt">&quot;valueColumn&quot;</span><span class="p">:</span> <span class="s2">&quot;building&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="default-values">
<h3>Default values<a class="headerlink" href="#default-values" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>You can predefine a value for a field. There are several dynamic predefined values:</dt>
<dd><ul class="first simple">
<li>_autocomplete</li>
<li>_input</li>
<li>_list</li>
<li>_geometry</li>
<li>_login_name</li>
<li>_email</li>
<li>_boolean</li>
<li>_attacment</li>
<li>_datum</li>
<li>_auto_geometry</li>
</ul>
<p class="last">Ha üres input mezőt szeretnénk, akkor _input értéket kell megadni, ha választó listát szeretnénk kapni a _list értéket kell megadni (a lista fefiníció elemeit tölti be), ha geometra választást, akkor _geometry értéket, az _datum pedig a dátum választó mezőt eredményez.</p>
</dd>
</dl>
</div>
<div class="section" id="field-display-options">
<h3>Field display options<a class="headerlink" href="#field-display-options" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>sticky</dt>
<dd>This has real significance in the mobile application. If this option is selected, the field will retain its value when new rows start.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>hidden</dt>
<dd>Field not displayed.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>read only</dt>
<dd>Field value cannot be modified.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>once</dt>
<dd>Field displayed only once in observation-list in mobile app at the end of observation
(This option will used in the web form to pull out a field from the table over the table. Currenty, using the default value option do this for the web form)</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>list element as buttons</dt>
<dd><dl class="first last docutils">
<dt>List element will be diplayed as buttons. Pictures can be used in the buttons.</dt>
<dd>Pictures should be defined in for all list elements in the list definition like in this example:
If the list has the following values: animals, plants, mushrooms, bats</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;pictures&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;animals&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;plants&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;mushrooms&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span><span class="p">,</span>
        <span class="nt">&quot;bats&quot;</span><span class="p">:</span> <span class="s2">&quot;http://....png&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="column-relations">
<h3>Column relations<a class="headerlink" href="#column-relations" title="Permalink to this headline">¶</a></h3>
<p>Megadható hogy a táblából egy más oszlop értéke esetén az adott oszlopba bevitt értéket hogyan ellenőrízze vagy módosítsa. pl.: weight oszlop esetén ha a sex oszlop tartalma female akkor az értékek min 20 és max 30 numerikus értket vehetnek fel (sex=female) {minmax=20:30}</p>
<p>Check the contents of columns depending on the contents of other columns</p>
</div>
<div class="section" id="pseudo-columns">
<h3>Pseudo columns<a class="headerlink" href="#pseudo-columns" title="Permalink to this headline">¶</a></h3>
<p>Columns from other upload-forms can be added here with the following format: form-name:column1,column2,columnN
The listed column will be appear after this column. The data entered in the pseudo-columns will be uploaded using the the other form’s definition. Using this feature let uploaders to upload data into two tables at once.</p>
</div>
</div>
<div class="section" id="relations-pseudolanguage-definition">
<h2>Relations pseudolanguage definition<a class="headerlink" href="#relations-pseudolanguage-definition" title="Permalink to this headline">¶</a></h2>
<p>( rel_field = rel_statement ) { rel_type = rel_value } , ( rel_field = rel_statement ) { rel_type = rel_value } , …</p>
<p>IF an other cell value (rel_field) match to (rel_statement) THEN  this cell (rel_type) value should be (rel_value)</p>
<p>rel_type is a function related with the field type</p>
<blockquote>
<div><p>datum:          year            extraxt year component from a datum string</p>
<p>text,numeric:   minmax          minmax range check</p>
<dl class="docutils">
<dt>any type:       obligatory      change obligatory setting</dt>
<dd>inequality      check inequality with these symbols: &lt;&gt;= between index and current field. Causing error message.</dd>
</dl>
</div></blockquote>
<p>rel_statement can be a regexp based function. In this case statement should be started with !! and followed by a regexp expression e.g.  !!^(d{2})$</p>
<blockquote>
<div><p>If statement is regexp rel_value also can be a function</p>
<p>.       means replace current cell value with matched string from the matched string from the rel_field</p>
<p>.+      means append current cell value to matched string from the rel_field</p>
<p>+.      means append matched string from the rel_field to the current cell value</p>
</div></blockquote>
<p>rel_value:</p>
<blockquote>
<div><p>IF rel_type is inequality according to php comparison operators</p>
<blockquote>
<div><p>+&lt;.</p>
<p>+&lt;=.</p>
<p>+&gt;=.</p>
<p>+=.</p>
<p>+&lt;&gt;.</p>
<p>WHERE + is the matched rel_field value and . is the current cell value</p>
</div></blockquote>
<p>Else can be anything - may be ignored - depending on the used function</p>
</div></blockquote>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>On the <cite>tarsus_length</cite> column</p>
<blockquote>
<div>(clutch_size=!!^([123])$) {obligatory(1)}</div></blockquote>
<p>Which means it will be mandatory to fill the tarsus length if the nest size is 1, 2 or 3</p>
<p>On the <cite>end_date</cite> column. If the <cite>found_date</cite> field not empty, check, the <cite>end_date</cite> is grater than the <cite>found_date</cite>. If yes, returning TRUE else FALSE, which causing upload error.</p>
<blockquote>
<div>(found_date=!!^(.+)$) {inequality(+&gt;=.)}</div></blockquote>
<p>On a date field which not contains year part. If the <cite>year</cite> column is not empty, then the <cite>date</cite> field will be updated with this year (numbers)</p>
<blockquote>
<div>(year=!!^(d{4})$) {set(.)}</div></blockquote>
<p>On the <cite>ring_number</cite> field. If the recapture’s values is “1” then the <cite>ring_number</cite> will be obligatory.</p>
<blockquote>
<div>(recapture=1) {obligatory(1)}</div></blockquote>
<p>On the <cite>english_name</cite> column. If the <cite>scientific_name</cite> is empty then the english_name will be obligatory.</p>
<blockquote>
<div>(scientific_name=!!(^$)) {obligatory(1)}</div></blockquote>
<p>On the <cite>amount_type</cite> field. If the <cite>number_of_individuals</cite> grater than 50 then the <cite>amount_type</cite> will be “estimated value”, else if less or equal than 50, then “exact value”.</p>
<blockquote>
<div>(number_of_individuals&gt;50) {set(estimated value)},(egyedszam&lt;=50) {set(exact value)}</div></blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Upload form management</a><ul>
<li><a class="reference internal" href="#list-of-available-forms">List of available forms</a></li>
<li><a class="reference internal" href="#form-header-definition">Form header definition</a><ul>
<li><a class="reference internal" href="#destination-table">Destination table</a></li>
<li><a class="reference internal" href="#name-of-the-form">Name of the form</a></li>
<li><a class="reference internal" href="#form-access">Form access</a></li>
<li><a class="reference internal" href="#data-access">Data access</a></li>
<li><a class="reference internal" href="#form-type">Form type</a></li>
<li><a class="reference internal" href="#form-description">Form description</a></li>
<li><a class="reference internal" href="#form-srid">Form SRID</a></li>
<li><a class="reference internal" href="#form-groupping">Form groupping</a></li>
<li><a class="reference internal" href="#form-publish">Form publish</a></li>
</ul>
</li>
<li><a class="reference internal" href="#form-column-definitions">Form column definitions</a><ul>
<li><a class="reference internal" href="#included">Included</a></li>
<li><a class="reference internal" href="#column-order">Column order</a></li>
<li><a class="reference internal" href="#column">Column</a></li>
<li><a class="reference internal" href="#obligatory">Obligatory</a></li>
<li><a class="reference internal" href="#column-description">Column description</a></li>
<li><a class="reference internal" href="#column-type">Column type</a></li>
<li><a class="reference internal" href="#input-control">Input control</a></li>
<li><a class="reference internal" href="#list-definition">List definition</a></li>
<li><a class="reference internal" href="#joint-lists">Joint lists</a></li>
<li><a class="reference internal" href="#default-values">Default values</a></li>
<li><a class="reference internal" href="#field-display-options">Field display options</a></li>
<li><a class="reference internal" href="#column-relations">Column relations</a></li>
<li><a class="reference internal" href="#pseudo-columns">Pseudo columns</a></li>
</ul>
</li>
<li><a class="reference internal" href="#relations-pseudolanguage-definition">Relations pseudolanguage definition</a><ul>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">Modules</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="data_query_interface.html"
                        title="next chapter">Spatial queries</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="data_query_interface.html" title="Spatial queries"
             >next</a></li>
        <li class="right" >
          <a href="modules.html" title="Modules"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">openbiomaps 3.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="user_interface.html" >User interfaces</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright OpenBioMaps Consortium 2015 - 2020.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>